sndefine("constants",[],(function(){return{CORE:{EVENTS:{OPEN:"open",CLOSE:"close",EXIT:"exit",ENTRY:"entry",LOAD:"load",SUBMIT:"submit",SITEDATA:"sitedata",READY:"ready",STORAGE:"storage",VISIBLE:"visible",PRODUCTREC:"productrec",ANIMATING:"animating",RESIZE:"resize"},CREATOR:{USER:"user",API:"api",QUEUE:"queue"},COMMANDS:{SUBMIT:"submitted",CLICK:"click",CURRENT:"current",OPEN:"open",QUEUE:"queue",CLOSE:"close",REVEAL:"reveal",MAXIMIZE:"maximize",MINIMIZE:"minimize"},API:{BUSY:"busy",ADD:"add",CLOSE:"close",CLOSEALL:"closeall",STATUS:"status",CAMPAIGNS:"campaigns",OPEN:"open",REVEAL:"reveal",QUEUE:"push",MAXIMIZE:"maximize",MINIMIZE:"minimize",REMOVE:"remove",NOTE_RERENDER:"rerender",NOTE_CONFIG:"config",APPLY_CONFIG:"apply",AFTERRENDER:"onafterrender",VISIBLE:"visible",WAIT:"wait",POSITION:"position",MERGE:"merge",HOOK:"hook"},LOGLEVELS:{CS:"1",CORE:"a",TRACKER:"t",EDITORTARGETING:"targeting"},FORMATTERS:{CONFIG:"config",EVALUATOR:"evaluator",CORE:"core",SNDEBUG:"sndebug"}},ELEMENTTYPES:["text","image","input","input-number","phone","checkbox","button","textarea","radio","linkbutton","spacer","sticker","close","select","container","group-sms","counter","clerk","raptor","helloretail","gmerch","shopifyfeed","video","spintowin","date","code"],MIMIR:{EVENTS:{PAGERELOAD:"1_pagereload",PAGEVIEW:"2_pageview",SHOWN:"3_sleeknote_shown",ENGAGED:"4_sleeknote_engaged",CLOSED:"5_sleeknote_closed",LINK_CLICKED:"6_sleeknote_link_clicked",GOAL_CONVERTED:"7_goal_converted",TEASER_CLOSED:"8_sleeknote_teaser_closed",SUBSTEP_ENGAGED:"11_sleeknote_substep_engaged"},TRIGGERS:{TIMER:"1_sleeknote_trigger_shown_after",SCROLL:"2_sleeknote_trigger_scroll",EXIT:"3_sleeknote_exit_intent",MANUAL:"4_sleeknote_trigger_manual",TEASERCLICK:"5_sleeknote_teaser_clicked",MOUSESUBMIT:"6_sleeknote_submitbutton_clicked",KEYPRESSSUBMIT:"7_sleeknote_submitbutton_enterpress",CLOSEBUTTON:"8_sleeknote_closebutton_clicked",DISMISS:"9_sleeknote_dismissed",TEASERCLOSE:"10_sleeknote_teaser_closebutton_clicked",LINKBUTTON:"12_sleeknote_linkbutton_clicked",CLICK:"13_sleeknote_trigger_click",SITEDATA:"14_sleeknote_trigger_sitedata",EMBEDDED:"15_embedded_campaign_show"},NOTES:{NEWSLETTER:"1_Newsletter",PROMOTE:"2_Promote",CONTACT:"3_Contact",BLANK:"2_Promote"}},IMAGEMAXSIZE:25e4,PROFILE:{UNKN:1,IGNORE:2,DESKTOP:3,TABLET:4,MOBILE:5},PROFILEIDS:{DESKTOP:"desktop",MOBILE:"mobile"},POS:{POPUP:5,BOTTOM_LEFT:7,BOTTOM_RIGHT:9,CENTER_LEFT:4,CENTER_RIGHT:6,SLIDEUP:10,SLIDEUP2:11,HELLO:12,HELLO2:17,POPUP2:13,POPUP7:15,POPUP9:16,POPUP5:18,EMBEDDED:20,SIDEBAR_LEFT:21,SIDEBAR_RIGHT:22},AL:{TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4},PA:{CENTER:1,INSIDE:2,OUTSIDE:3,RIGHT:4,LEFT:5,BOTTOM:6,TOP:7},TARGETING:{VISIBILITY:{SHOW:"include",HIDE:"exclude"},TYPES:{MATCHES:"exactMatch",CONTAINS:"contains"},RELATIONS:{AND:"AND",OR:"OR"}},TRIGGERS:{TYPES:{1:"Show After",2:"Scroll",3:"Exit-Intent",4:"Manual",5:"Click",6:"Automated",7:"SiteData"}},CONDITIONS:{PAGESVISITEDOPTIONS:{ONESESSION:"current session",ALLSESSIONS:"all sessions"},UTMSOURCE:"utm_source",UTMMEDIUM:"utm_medium",UTMCAMPAIGN:"utm_campaign",UTMTERM:"utm_term",UTMCONTENT:"utm_content",GROUPS:{AND:!0,OR:!1},KEYS:{SEQUENCE:"sequence",SUBSCRIBER:"currentSubscriber",VISITOR:"newVisitor",QUERY:"specificQuery",REFERRAL:"specificReferral",UTM:"utm",SHOW:"showCount",COOKIE:"specificCookie",GEOTARGETING:"geotargeting",ELEMENT:"htmlElement",SITE:"siteData",PAGE:"pageCount",TARGETING:"specificURL",IP:"specificIP",URLMATCHES:"URLMatches",URLCONTAINS:"URLContains"},TYPES:{EXISTS:"exists",NOTEXISTS:"notExists",EXACTMATCH:"exactMatch",NOTEXACTMATCH:"notExactMatch",CONTAINS:"contains",LESSTHAN:"lessThan",LESSTHANEQ:"lessThanEq",GREATERTHAN:"greaterThan",GREATERTHANEQ:"greaterThanEq",EQUALS:"equals"},MATCHTYPES:{INCLUDE:"include",EXCLUDE:"exclude",NONE:"none",BOTH:"both"}},SUNDAY:0,MONDAY:1,DATETIMEFORMAT:"DD-MM-YYYY - HH:mm",DATEFORMAT:"DD-MM-YYYY",ISODATEFORMAT:"YYYY-MM-DD",TIMEFORMAT:"- HH:mm",SCHEDULERDATEFORMAT:"YYYY/MM/DD",SETUPDATEFORMAT:"Do MMMM YYYY",URLPATTERN:"^((?:https?:\\/\\/)?[^./]+(?:\\.[^./]+)+(?:\\/.*)?)$",IPPATTERN:"^((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)(,\\n|,?|,\\s))*$",SHOPIFYURLPATTERN:"^.*products.json$",INPUTNAMEALLOWEDPATTERN:"^[a-zA-Z][\\w:.-]*$",MYCAMPAIGNSURL:"../dashboard/",YOUTUBEURLVALIDATION:"(http(?:s?):\\/\\/)?(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-_]*)(&(amp;)?[\\w\\?=]*)?",CLEANURLREGEX:"(^\\w+://(www.)?|(www.))",TIMESPANS:{last7Days:"last7Days",last30Days:"last30Days",last3Months:"last3Months",last6Months:"last6Months",customRange:"customRange"},COUNTRIES:[{name:"Afghanistan",localizedName:"Afghanistan (‫افغانستان‬‎)",iso2:"af",callingCode:"93"},{name:"Åland Islands",localizedName:"Åland Islands",iso2:"ax",callingCode:"358"},{name:"Albania",localizedName:"Albania (Shqipëri)",iso2:"al",callingCode:"355"},{name:"Algeria",localizedName:"Algeria (‫الجزائر‬‎)",iso2:"dz",callingCode:"213"},{name:"American Samoa",localizedName:"American Samoa",iso2:"as",callingCode:"1"},{name:"Andorra",localizedName:"Andorra",iso2:"ad",callingCode:"376"},{name:"Angola",localizedName:"Angola",iso2:"ao",callingCode:"244"},{name:"Anguilla",localizedName:"Anguilla",iso2:"ai",callingCode:"1"},{name:"Antigua and Barbuda",localizedName:"Antigua and Barbuda",iso2:"ag",callingCode:"1"},{name:"Argentina",localizedName:"Argentina",iso2:"ar",callingCode:"54"},{name:"Armenia",localizedName:"Armenia (Հայաստան)",iso2:"am",callingCode:"374"},{name:"Aruba",localizedName:"Aruba",iso2:"aw",callingCode:"297"},{name:"Ascension Island",localizedName:"Ascension Island",iso2:"ac",callingCode:"247"},{name:"Australia",localizedName:"Australia",iso2:"au",callingCode:"61"},{name:"Austria",localizedName:"Austria (Österreich)",iso2:"at",callingCode:"43"},{name:"Azerbaijan",localizedName:"Azerbaijan (Azərbaycan)",iso2:"az",callingCode:"994"},{name:"Bahamas",localizedName:"Bahamas",iso2:"bs",callingCode:"1"},{name:"Bahrain",localizedName:"Bahrain (‫البحرين‬‎)",iso2:"bh",callingCode:"973"},{name:"Bangladesh",localizedName:"Bangladesh (বাংলাদেশ)",iso2:"bd",callingCode:"880"},{name:"Barbados",localizedName:"Barbados",iso2:"bb",callingCode:"1"},{name:"Belarus",localizedName:"Belarus (Беларусь)",iso2:"by",callingCode:"375"},{name:"Belgium",localizedName:"Belgium (België)",iso2:"be",callingCode:"32"},{name:"Belize",localizedName:"Belize",iso2:"bz",callingCode:"501"},{name:"Benin",localizedName:"Benin (Bénin)",iso2:"bj",callingCode:"229"},{name:"Bermuda",localizedName:"Bermuda",iso2:"bm",callingCode:"1"},{name:"Bhutan",localizedName:"Bhutan (འབྲུག)",iso2:"bt",callingCode:"975"},{name:"Bolivia",localizedName:"Bolivia",iso2:"bo",callingCode:"591"},{name:"Bosnia and Herzegovina",localizedName:"Bosnia and Herzegovina (Босна и Херцеговина)",iso2:"ba",callingCode:"387"},{name:"Botswana",localizedName:"Botswana",iso2:"bw",callingCode:"267"},{name:"Brazil",localizedName:"Brazil (Brasil)",iso2:"br",callingCode:"55"},{name:"British Indian Ocean Territory",localizedName:"British Indian Ocean Territory",iso2:"io",callingCode:"246"},{name:"British Virgin Islands",localizedName:"British Virgin Islands",iso2:"vg",callingCode:"1"},{name:"Brunei",localizedName:"Brunei",iso2:"bn",callingCode:"673"},{name:"Bulgaria",localizedName:"Bulgaria (България)",iso2:"bg",callingCode:"359"},{name:"Burkina Faso",localizedName:"Burkina Faso",iso2:"bf",callingCode:"226"},{name:"Burundi",localizedName:"Burundi (Uburundi)",iso2:"bi",callingCode:"257"},{name:"Cambodia",localizedName:"Cambodia (កម្ពុជា)",iso2:"kh",callingCode:"855"},{name:"Cameroon",localizedName:"Cameroon (Cameroun)",iso2:"cm",callingCode:"237"},{name:"Canada",localizedName:"Canada",iso2:"ca",callingCode:"1"},{name:"Cape Verde",localizedName:"Cape Verde (Kabu Verdi)",iso2:"cv",callingCode:"238"},{name:"Caribbean Netherlands",localizedName:"Caribbean Netherlands",iso2:"bq",callingCode:"599"},{name:"Cayman Islands",localizedName:"Cayman Islands",iso2:"ky",callingCode:"1"},{name:"Central African Republic",localizedName:"Central African Republic (République centrafricaine)",iso2:"cf",callingCode:"236"},{name:"Chad",localizedName:"Chad (Tchad)",iso2:"td",callingCode:"235"},{name:"Chile",localizedName:"Chile",iso2:"cl",callingCode:"56"},{name:"China",localizedName:"China (中国)",iso2:"cn",callingCode:"86"},{name:"Christmas Island",localizedName:"Christmas Island",iso2:"cx",callingCode:"61"},{name:"Cocos",localizedName:"Cocos (Keeling) Islands",iso2:"cc",callingCode:"61"},{name:"Colombia",localizedName:"Colombia",iso2:"co",callingCode:"57"},{name:"Comoros",localizedName:"Comoros (‫جزر القمر‬‎)",iso2:"km",callingCode:"269"},{name:"Congo",localizedName:"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)",iso2:"cd",callingCode:"243"},{name:"Congo",localizedName:"Congo (Republic) (Congo-Brazzaville)",iso2:"cg",callingCode:"242"},{name:"Cook Islands",localizedName:"Cook Islands",iso2:"ck",callingCode:"682"},{name:"Costa Rica",localizedName:"Costa Rica",iso2:"cr",callingCode:"506"},{name:"Côte d’Ivoire",localizedName:"Côte d’Ivoire",iso2:"ci",callingCode:"225"},{name:"Croatia",localizedName:"Croatia (Hrvatska)",iso2:"hr",callingCode:"385"},{name:"Cuba",localizedName:"Cuba",iso2:"cu",callingCode:"53"},{name:"Curaçao",localizedName:"Curaçao",iso2:"cw",callingCode:"599"},{name:"Cyprus",localizedName:"Cyprus (Κύπρος)",iso2:"cy",callingCode:"357"},{name:"Czech Republic",localizedName:"Czech Republic (Česká republika)",iso2:"cz",callingCode:"420"},{name:"Denmark",localizedName:"Denmark (Danmark)",iso2:"dk",callingCode:"45"},{name:"Djibouti",localizedName:"Djibouti",iso2:"dj",callingCode:"253"},{name:"Dominica",localizedName:"Dominica",iso2:"dm",callingCode:"1"},{name:"Dominican Republic",localizedName:"Dominican Republic (República Dominicana)",iso2:"do",callingCode:"1"},{name:"Ecuador",localizedName:"Ecuador",iso2:"ec",callingCode:"593"},{name:"Egypt",localizedName:"Egypt (‫مصر‬‎)",iso2:"eg",callingCode:"20"},{name:"El Salvador",localizedName:"El Salvador",iso2:"sv",callingCode:"503"},{name:"Equatorial Guinea",localizedName:"Equatorial Guinea (Guinea Ecuatorial)",iso2:"gq",callingCode:"240"},{name:"Eritrea",localizedName:"Eritrea",iso2:"er",callingCode:"291"},{name:"Estonia",localizedName:"Estonia (Eesti)",iso2:"ee",callingCode:"372"},{name:"Eswatini",localizedName:"Eswatini",iso2:"sz",callingCode:"268"},{name:"Ethiopia",localizedName:"Ethiopia",iso2:"et",callingCode:"251"},{name:"Falkland Islands",localizedName:"Falkland Islands (Islas Malvinas)",iso2:"fk",callingCode:"500"},{name:"Faroe Islands",localizedName:"Faroe Islands (Føroyar)",iso2:"fo",callingCode:"298"},{name:"Fiji",localizedName:"Fiji",iso2:"fj",callingCode:"679"},{name:"Finland",localizedName:"Finland (Suomi)",iso2:"fi",callingCode:"358"},{name:"France",localizedName:"France",iso2:"fr",callingCode:"33"},{name:"French Guiana",localizedName:"French Guiana (Guyane française)",iso2:"gf",callingCode:"594"},{name:"French Polynesia",localizedName:"French Polynesia (Polynésie française)",iso2:"pf",callingCode:"689"},{name:"Gabon",localizedName:"Gabon",iso2:"ga",callingCode:"241"},{name:"Gambia",localizedName:"Gambia",iso2:"gm",callingCode:"220"},{name:"Georgia",localizedName:"Georgia (საქართველო)",iso2:"ge",callingCode:"995"},{name:"Germany",localizedName:"Germany (Deutschland)",iso2:"de",callingCode:"49"},{name:"Ghana",localizedName:"Ghana (Gaana)",iso2:"gh",callingCode:"233"},{name:"Gibraltar",localizedName:"Gibraltar",iso2:"gi",callingCode:"350"},{name:"Greece",localizedName:"Greece (Ελλάδα)",iso2:"gr",callingCode:"30"},{name:"Greenland",localizedName:"Greenland (Kalaallit Nunaat)",iso2:"gl",callingCode:"299"},{name:"Grenada",localizedName:"Grenada",iso2:"gd",callingCode:"1"},{name:"Guadeloupe",localizedName:"Guadeloupe",iso2:"gp",callingCode:"590"},{name:"Guam",localizedName:"Guam",iso2:"gu",callingCode:"1"},{name:"Guatemala",localizedName:"Guatemala",iso2:"gt",callingCode:"502"},{name:"Guernsey",localizedName:"Guernsey",iso2:"gg",callingCode:"44"},{name:"Guinea",localizedName:"Guinea (Guinée)",iso2:"gn",callingCode:"224"},{name:"Guinea-Bissau",localizedName:"Guinea-Bissau (Guiné Bissau)",iso2:"gw",callingCode:"245"},{name:"Guyana",localizedName:"Guyana",iso2:"gy",callingCode:"592"},{name:"Haiti",localizedName:"Haiti",iso2:"ht",callingCode:"509"},{name:"Honduras",localizedName:"Honduras",iso2:"hn",callingCode:"504"},{name:"Hong Kong",localizedName:"Hong Kong (香港)",iso2:"hk",callingCode:"852"},{name:"Hungary",localizedName:"Hungary (Magyarország)",iso2:"hu",callingCode:"36"},{name:"Iceland",localizedName:"Iceland (Ísland)",iso2:"is",callingCode:"354"},{name:"India",localizedName:"India (भारत)",iso2:"in",callingCode:"91"},{name:"Indonesia",localizedName:"Indonesia",iso2:"id",callingCode:"62"},{name:"Iran",localizedName:"Iran (‫ایران‬‎)",iso2:"ir",callingCode:"98"},{name:"Iraq",localizedName:"Iraq (‫العراق‬‎)",iso2:"iq",callingCode:"964"},{name:"Ireland",localizedName:"Ireland",iso2:"ie",callingCode:"353"},{name:"Isle of Man",localizedName:"Isle of Man",iso2:"im",callingCode:"44"},{name:"Israel",localizedName:"Israel (‫ישראל‬‎)",iso2:"il",callingCode:"972"},{name:"Italy",localizedName:"Italy (Italia)",iso2:"it",callingCode:"39"},{name:"Jamaica",localizedName:"Jamaica",iso2:"jm",callingCode:"1"},{name:"Japan",localizedName:"Japan (日本)",iso2:"jp",callingCode:"81"},{name:"Jersey",localizedName:"Jersey",iso2:"je",callingCode:"44"},{name:"Jordan",localizedName:"Jordan (‫الأردن‬‎)",iso2:"jo",callingCode:"962"},{name:"Kazakhstan",localizedName:"Kazakhstan (Казахстан)",iso2:"kz",callingCode:"7"},{name:"Kenya",localizedName:"Kenya",iso2:"ke",callingCode:"254"},{name:"Kiribati",localizedName:"Kiribati",iso2:"ki",callingCode:"686"},{name:"Kosovo",localizedName:"Kosovo",iso2:"xk",callingCode:"383"},{name:"Kuwait",localizedName:"Kuwait (‫الكويت‬‎)",iso2:"kw",callingCode:"965"},{name:"Kyrgyzstan",localizedName:"Kyrgyzstan (Кыргызстан)",iso2:"kg",callingCode:"996"},{name:"Laos",localizedName:"Laos (ລາວ)",iso2:"la",callingCode:"856"},{name:"Latvia",localizedName:"Latvia (Latvija)",iso2:"lv",callingCode:"371"},{name:"Lebanon",localizedName:"Lebanon (‫لبنان‬‎)",iso2:"lb",callingCode:"961"},{name:"Lesotho",localizedName:"Lesotho",iso2:"ls",callingCode:"266"},{name:"Liberia",localizedName:"Liberia",iso2:"lr",callingCode:"231"},{name:"Libya",localizedName:"Libya (‫ليبيا‬‎)",iso2:"ly",callingCode:"218"},{name:"Liechtenstein",localizedName:"Liechtenstein",iso2:"li",callingCode:"423"},{name:"Lithuania",localizedName:"Lithuania (Lietuva)",iso2:"lt",callingCode:"370"},{name:"Luxembourg",localizedName:"Luxembourg",iso2:"lu",callingCode:"352"},{name:"Macau",localizedName:"Macau (澳門)",iso2:"mo",callingCode:"853"},{name:"Macedonia",localizedName:"Macedonia (FYROM) (Македонија)",iso2:"mk",callingCode:"389"},{name:"Madagascar",localizedName:"Madagascar (Madagasikara)",iso2:"mg",callingCode:"261"},{name:"Malawi",localizedName:"Malawi",iso2:"mw",callingCode:"265"},{name:"Malaysia",localizedName:"Malaysia",iso2:"my",callingCode:"60"},{name:"Maldives",localizedName:"Maldives",iso2:"mv",callingCode:"960"},{name:"Mali",localizedName:"Mali",iso2:"ml",callingCode:"223"},{name:"Malta",localizedName:"Malta",iso2:"mt",callingCode:"356"},{name:"Marshall Islands",localizedName:"Marshall Islands",iso2:"mh",callingCode:"692"},{name:"Martinique",localizedName:"Martinique",iso2:"mq",callingCode:"596"},{name:"Mauritania",localizedName:"Mauritania (‫موريتانيا‬‎)",iso2:"mr",callingCode:"222"},{name:"Mauritius",localizedName:"Mauritius (Moris)",iso2:"mu",callingCode:"230"},{name:"Mayotte",localizedName:"Mayotte",iso2:"yt",callingCode:"262"},{name:"Mexico",localizedName:"Mexico (México)",iso2:"mx",callingCode:"52"},{name:"Micronesia",localizedName:"Micronesia",iso2:"fm",callingCode:"691"},{name:"Moldova",localizedName:"Moldova (Republica Moldova)",iso2:"md",callingCode:"373"},{name:"Monaco",localizedName:"Monaco",iso2:"mc",callingCode:"377"},{name:"Mongolia",localizedName:"Mongolia (Монгол)",iso2:"mn",callingCode:"976"},{name:"Montenegro",localizedName:"Montenegro (Crna Gora)",iso2:"me",callingCode:"382"},{name:"Montserrat",localizedName:"Montserrat",iso2:"ms",callingCode:"1"},{name:"Morocco",localizedName:"Morocco (‫المغرب‬‎)",iso2:"ma",callingCode:"212"},{name:"Mozambique",localizedName:"Mozambique (Moçambique)",iso2:"mz",callingCode:"258"},{name:"Myanmar",localizedName:"Myanmar (Burma) (မြန်မာ)",iso2:"mm",callingCode:"95"},{name:"Namibia",localizedName:"Namibia (Namibië)",iso2:"na",callingCode:"264"},{name:"Nauru",localizedName:"Nauru",iso2:"nr",callingCode:"674"},{name:"Nepal",localizedName:"Nepal (नेपाल)",iso2:"np",callingCode:"977"},{name:"Netherlands",localizedName:"Netherlands (Nederland)",iso2:"nl",callingCode:"31"},{name:"New Caledonia",localizedName:"New Caledonia (Nouvelle-Calédonie)",iso2:"nc",callingCode:"687"},{name:"New Zealand",localizedName:"New Zealand",iso2:"nz",callingCode:"64"},{name:"Nicaragua",localizedName:"Nicaragua",iso2:"ni",callingCode:"505"},{name:"Niger",localizedName:"Niger (Nijar)",iso2:"ne",callingCode:"227"},{name:"Nigeria",localizedName:"Nigeria",iso2:"ng",callingCode:"234"},{name:"Niue",localizedName:"Niue",iso2:"nu",callingCode:"683"},{name:"Norfolk Island",localizedName:"Norfolk Island",iso2:"nf",callingCode:"672"},{name:"North Korea",localizedName:"North Korea (조선 민주주의 인민 공화국)",iso2:"kp",callingCode:"850"},{name:"Northern Mariana Islands",localizedName:"Northern Mariana Islands",iso2:"mp",callingCode:"1"},{name:"Norway",localizedName:"Norway (Norge)",iso2:"no",callingCode:"47"},{name:"Oman",localizedName:"Oman (‫عُمان‬‎)",iso2:"om",callingCode:"968"},{name:"Pakistan",localizedName:"Pakistan (‫پاکستان‬‎)",iso2:"pk",callingCode:"92"},{name:"Palau",localizedName:"Palau",iso2:"pw",callingCode:"680"},{name:"Palestine",localizedName:"Palestine (‫فلسطين‬‎)",iso2:"ps",callingCode:"970"},{name:"Panama",localizedName:"Panama (Panamá)",iso2:"pa",callingCode:"507"},{name:"Papua New Guinea",localizedName:"Papua New Guinea",iso2:"pg",callingCode:"675"},{name:"Paraguay",localizedName:"Paraguay",iso2:"py",callingCode:"595"},{name:"Peru",localizedName:"Peru (Perú)",iso2:"pe",callingCode:"51"},{name:"Philippines",localizedName:"Philippines",iso2:"ph",callingCode:"63"},{name:"Poland",localizedName:"Poland (Polska)",iso2:"pl",callingCode:"48"},{name:"Portugal",localizedName:"Portugal",iso2:"pt",callingCode:"351"},{name:"Puerto Rico",localizedName:"Puerto Rico",iso2:"pr",callingCode:"1"},{name:"Qatar",localizedName:"Qatar (‫قطر‬‎)",iso2:"qa",callingCode:"974"},{name:"Réunion",localizedName:"Réunion (La Réunion)",iso2:"re",callingCode:"262"},{name:"Romania",localizedName:"Romania (România)",iso2:"ro",callingCode:"40"},{name:"Russia",localizedName:"Russia (Россия)",iso2:"ru",callingCode:"7"},{name:"Rwanda",localizedName:"Rwanda",iso2:"rw",callingCode:"250"},{name:"Saint Barthélemy",localizedName:"Saint Barthélemy",iso2:"bl",callingCode:"590"},{name:"Saint Helena",localizedName:"Saint Helena",iso2:"sh",callingCode:"290"},{name:"Saint Kitts and Nevis",localizedName:"Saint Kitts and Nevis",iso2:"kn",callingCode:"1"},{name:"Saint Lucia",localizedName:"Saint Lucia",iso2:"lc",callingCode:"1"},{name:"Saint Martin",localizedName:"Saint Martin (Saint-Martin (partie française))",iso2:"mf",callingCode:"590"},{name:"Saint Pierre and Miquelon",localizedName:"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)",iso2:"pm",callingCode:"508"},{name:"Saint Vincent and the Grenadines",localizedName:"Saint Vincent and the Grenadines",iso2:"vc",callingCode:"1"},{name:"Samoa",localizedName:"Samoa",iso2:"ws",callingCode:"685"},{name:"San Marino",localizedName:"San Marino",iso2:"sm",callingCode:"378"},{name:"São Tomé and Príncipe",localizedName:"São Tomé and Príncipe (São Tomé e Príncipe)",iso2:"st",callingCode:"239"},{name:"Saudi Arabia",localizedName:"Saudi Arabia (‫المملكة العربية السعودية‬‎)",iso2:"sa",callingCode:"966"},{name:"Senegal",localizedName:"Senegal (Sénégal)",iso2:"sn",callingCode:"221"},{name:"Serbia",localizedName:"Serbia (Србија)",iso2:"rs",callingCode:"381"},{name:"Seychelles",localizedName:"Seychelles",iso2:"sc",callingCode:"248"},{name:"Sierra Leone",localizedName:"Sierra Leone",iso2:"sl",callingCode:"232"},{name:"Singapore",localizedName:"Singapore",iso2:"sg",callingCode:"65"},{name:"Sint Maarten",localizedName:"Sint Maarten",iso2:"sx",callingCode:"1"},{name:"Slovakia",localizedName:"Slovakia (Slovensko)",iso2:"sk",callingCode:"421"},{name:"Slovenia",localizedName:"Slovenia (Slovenija)",iso2:"si",callingCode:"386"},{name:"Solomon Islands",localizedName:"Solomon Islands",iso2:"sb",callingCode:"677"},{name:"Somalia",localizedName:"Somalia (Soomaaliya)",iso2:"so",callingCode:"252"},{name:"South Africa",localizedName:"South Africa",iso2:"za",callingCode:"27"},{name:"South Korea",localizedName:"South Korea (대한민국)",iso2:"kr",callingCode:"82"},{name:"South Sudan",localizedName:"South Sudan (‫جنوب السودان‬‎)",iso2:"ss",callingCode:"211"},{name:"Spain",localizedName:"Spain (España)",iso2:"es",callingCode:"34"},{name:"Sri Lanka",localizedName:"Sri Lanka (ශ්‍රී ලංකාව)",iso2:"lk",callingCode:"94"},{name:"Sudan",localizedName:"Sudan (‫السودان‬‎)",iso2:"sd",callingCode:"249"},{name:"Suriname",localizedName:"Suriname",iso2:"sr",callingCode:"597"},{name:"Svalbard and Jan Mayen",localizedName:"Svalbard and Jan Mayen",iso2:"sj",callingCode:"47"},{name:"Sweden",localizedName:"Sweden (Sverige)",iso2:"se",callingCode:"46"},{name:"Switzerland",localizedName:"Switzerland (Schweiz)",iso2:"ch",callingCode:"41"},{name:"Syria",localizedName:"Syria (‫سوريا‬‎)",iso2:"sy",callingCode:"963"},{name:"Taiwan",localizedName:"Taiwan (台灣)",iso2:"tw",callingCode:"886"},{name:"Tajikistan",localizedName:"Tajikistan",iso2:"tj",callingCode:"992"},{name:"Tanzania",localizedName:"Tanzania",iso2:"tz",callingCode:"255"},{name:"Thailand",localizedName:"Thailand (ไทย)",iso2:"th",callingCode:"66"},{name:"Timor-Leste",localizedName:"Timor-Leste",iso2:"tl",callingCode:"670"},{name:"Togo",localizedName:"Togo",iso2:"tg",callingCode:"228"},{name:"Tokelau",localizedName:"Tokelau",iso2:"tk",callingCode:"690"},{name:"Tonga",localizedName:"Tonga",iso2:"to",callingCode:"676"},{name:"Trinidad and Tobago",localizedName:"Trinidad and Tobago",iso2:"tt",callingCode:"1"},{name:"Tunisia",localizedName:"Tunisia (‫تونس‬‎)",iso2:"tn",callingCode:"216"},{name:"Turkey",localizedName:"Turkey (Türkiye)",iso2:"tr",callingCode:"90"},{name:"Turkmenistan",localizedName:"Turkmenistan",iso2:"tm",callingCode:"993"},{name:"Turks and Caicos Islands",localizedName:"Turks and Caicos Islands",iso2:"tc",callingCode:"1"},{name:"Tuvalu",localizedName:"Tuvalu",iso2:"tv",callingCode:"688"},{name:"U.S. Virgin Islands",localizedName:"U.S. Virgin Islands",iso2:"vi",callingCode:"1"},{name:"Uganda",localizedName:"Uganda",iso2:"ug",callingCode:"256"},{name:"Ukraine",localizedName:"Ukraine (Україна)",iso2:"ua",callingCode:"380"},{name:"United Arab Emirates",localizedName:"United Arab Emirates (‫الإمارات العربية المتحدة‬‎)",iso2:"ae",callingCode:"971"},{name:"United Kingdom",localizedName:"United Kingdom",iso2:"gb",callingCode:"44"},{name:"United States",localizedName:"United States",iso2:"us",callingCode:"1"},{name:"Uruguay",localizedName:"Uruguay",iso2:"uy",callingCode:"598"},{name:"Uzbekistan",localizedName:"Uzbekistan (Oʻzbekiston)",iso2:"uz",callingCode:"998"},{name:"Vanuatu",localizedName:"Vanuatu",iso2:"vu",callingCode:"678"},{name:"Vatican City",localizedName:"Vatican City (Città del Vaticano)",iso2:"va",callingCode:"39"},{name:"Venezuela",localizedName:"Venezuela",iso2:"ve",callingCode:"58"},{name:"Vietnam",localizedName:"Vietnam (Việt Nam)",iso2:"vn",callingCode:"84"},{name:"Wallis and Futuna",localizedName:"Wallis and Futuna (Wallis-et-Futuna)",iso2:"wf",callingCode:"681"},{name:"Western Sahara",localizedName:"Western Sahara (‫الصحراء الغربية‬‎)",iso2:"eh",callingCode:"212"},{name:"Yemen",localizedName:"Yemen (‫اليمن‬‎)",iso2:"ye",callingCode:"967"},{name:"Zambia",localizedName:"Zambia",iso2:"zm",callingCode:"260"},{name:"Zimbabwe",localizedName:"Zimbabwe",iso2:"zw",callingCode:"263"}]}})),function(){var e,t=this,a=t.document,n=["Webkit","ms","Moz"],i=a.createElement("div");function o(e){var t,a=e.charAt(0).toUpperCase()+e.slice(1);if(e in i.style)return"";for(t=n.length;t--;)if(n[t]+a in i.style)return n[t];return!1}var s=o("transform"),r={};function l(e,t){t||(t=s),r[t]||(r[t]={});var a=r[t][e];return void 0===a&&(a=r[t][e]=t.length?t+e.charAt(0).toUpperCase()+e.substr(1):e[0].toLowerCase()+e.substr(1)),a}var c={standalone:t.navigator.standalone,retina:t.devicePixelRatio>=1.5},d=t.navigator.userAgent.toLowerCase();c.bot=/bingpreview|bingbot|adidxbot|adsbot-google|googlebot|mediapartners-google|googleweblight|google page speed insights|headlesschrome/gi.test(d);var m,u,g,h=(u=d.match(/(edge|edg)[\s\/:]([\w\d\.]+)/),"unknown"==(g=d.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0])[1]&&u&&(g=u),"trident"==g[1]?(g[1]="ie",g[4]&&(g[2]=g[4])):"crios"==g[1]&&(g[1]="chrome"),(m=/iemobile|windows phone/i.test(t.navigator.appVersion)?"winphone":d.match(/ip(?:ad|od|hone)/)?"ios":(d.match(/(?:webos|android)/)||d.match(/mac|win|linux|cros/)||["other"])[0])&&"other"!=m||(m=t.navigator.platform,/mac/i.test(m)&&(m="mac"),/win/i.test(m)&&(m="windows")),"win"==m&&(m="windows"),{name:"version"==g[1]?g[3]:g[1],version:parseFloat("opera"==g[1]&&g[4]?g[4]:g[2]),platform:m});if("unknown"!=h.name&&(c[h.name]=!0),c.version=h.version,c.name=h.name,c.platform=h.platform,/edg/.test(c.name)&&(c.name="edge"),"edge"==c.name&&c.version>50&&(c.name="chrome",c[c.name]=!0),"ie"==h.name&&a.documentMode&&(c.version=a.documentMode),"BackCompat"==a.compatMode&&(c.quirks=!0,c.version=1),c[h.platform]=!0,c.windows=c.windows||c.winphone,c.mozilla=c.firefox,c.webkit=c.safari||c.chrome,c.webkit&&"webkitAnimation"in i.style&&(s="Webkit"),c.desktop=!(c.android||c.ios||c.winphone),c.android)c.tablet=!/mobile/i.test(d),c.tablet&&(c.desktop=!1),c.genuineAndroid=!/intel/i.test(t.navigator.platform);else{var p=!1;if("iPad"==t.navigator.platform&&(p=!0),!p&&"iPhone"!=t.navigator.platform)!(p=-1!==d.indexOf("ipad"))&&d.match(/mac/)&&t.navigator.maxTouchPoints&&t.navigator.maxTouchPoints>2&&(p=!0);p&&(c.ios=!0,c.mac=!1,c.platform="ios",c.desktop=!1),c.ios&&(c.tablet=p,i.style.setProperty("-apple-pay-button-style","black"),c.genuineApple="black"==i.style.getPropertyValue("-apple-pay-button-style"))}c.phone=!c.desktop&&!c.tablet,c.device=c.tablet?"tablet":c.phone?"phone":"desktop";var f,C={orientationchange:"onorientationchange"in t,threeD:l("perspective")in a.documentElement.style,touch:"ontouchstart"in t||t.navigator.msMaxTouchPoints>0,transform:!1!==s,animation:!1!==o("animationName"),pointer:!!t.PointerEvent,pointerGestures:!!t.MSGesture,pointerEvents:(f=i.style,"pointerEvents"in f&&(f.pointerEvents="auto",f.pointerEvents="foo","auto"==f.pointerEvents))};c.ie&&c.version<=10&&(C.pointerEvents=!1);var y,S,E="onorientationchange"in t?"orientationchange":"resize",v={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"};for(e in v)if(void 0!==i.style[e]){y=v[e];break}var N={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend"};for(e in N)if(void 0!==i.style[e]){S=N[e];break}var I=s.length?"-"+s.toLowerCase()+"-":"";var w={language:function(){return t.navigator.language||t.navigator.userLanguage},timezoneOffSet:function(){return(new Date).getTimezoneOffset()}};function b(){return t.innerHeight||(a.documentElement||a.body).clientHeight||0}function T(){return t.innerWidth||(a.documentElement||a.body).clientWidth||0}function O(){return 90==(T()<b()?0:90)}function k(e,n,i,o){i||(i=a.body),o||(o=a.documentElement);var s=t.getComputedStyle(o),r=t.getComputedStyle(i),l=Math.max(i.offsetHeight,o.offsetHeight,i.clientHeight,o.clientHeight),c=Math.max(i.offsetWidth,o.offsetWidth,i.clientWidth,o.clientWidth);return"hidden"==s.overflowY||"hidden"==r.overflowY||n||(l=Math.max(l,i.scrollHeight,o.scrollHeight)),"hidden"==s.overflowX||"hidden"==r.overflowX||e||(c=Math.max(c,i.scrollWidth,o.scrollWidth)),{width:c,height:l}}function A(){return t.pageYOffset||(a.documentElement||a.body.parentNode||a.body).scrollTop||0}var M,P={top:A,pct:function(){var e=k().height-b();return 0===e?100:Math.floor(A()/e*100)}},R={screen:{width:function(){return Math[O()?"max":"min"](t.screen.width,t.screen.height)},height:function(){return Math[O()?"min":"max"](t.screen.width,t.screen.height)},availWidth:function(){return Math[O()?"max":"min"](t.screen.availWidth,t.screen.availHeight)},availHeight:function(){return Math[O()?"min":"max"](t.screen.availWidth,t.screen.availHeight)}},content:{width:0,height:0},win:{width:T,height:b},doc:{dims:k,width:function(e,t,a){return k(e,!0,t,a).width},height:function(e,t,a){return k(!0,e,t,a).height}}};var z=a.querySelector("meta[name=viewport], meta[id=viewport]");function L(e,t){if(e&&"fixed"==t)return"fixed"==e||~e.indexOf("sticky")}function D(){return R.doc.width(!c.desktop,a.body,a.documentElement)}function x(e){var t=D();return c.phone&&void 0!==e&&(Array.isArray(e)?t=Number(e[O()?1:0]):Number(e)===e&&e>0&&(t=e)),t/R.win.width()}function B(e,t,a){return a||(a=.1),Math.abs(e-t)<=a}var U={screenWidth:R.screen.width,screenHeight:R.screen.height,windowWidth:T,windowHeight:b,minimalScreenDimension:function(){return Math.min(R.screen.width(),R.screen.height())},isAddressBarVisible:function(){return!!(c.phone&&c.ios&&c.safari)&&(!!O()&&!B(D()/R.screen.width()*R.screen.availHeight(),R.win.height(),1))},getDocumentScale:x,getDocumentWidth:D,notScaledMobileContent:function(){return B(R.screen.width(),R.win.width()*x(),1)},isPositionValue:L,getPositionValue:function(e){return L(e,"fixed")?c.desktop&&c.safari?"-webkit-sticky":"fixed":e},systemScrollbarWidth:function(){var e;return void 0!==M||(M=0,C.touch||(a.body.insertAdjacentHTML("beforeend",'<div style="visibility:hidden;overflow-y:scroll;">blaah</div>'),e=a.body.lastElementChild,M=e.offsetWidth-e.clientWidth,e.parentNode.removeChild(e))),M},is:c,has:C,jsVendor:s,otherVendors:function(){var e,t=[];for(e=n.length;e--;)n[e]!=s&&t.push(n[e]);return s.length&&t.push(""),t},cssVendor:I,prefixStyle:l,transitionEnd:y,animationEnd:S,resizeEvent:E,mouseButton:function(e){var t="right",a="middle";if(void 0!==e.buttons&&0!==e.buttons){if(2==e.buttons)return t;if(4==e.buttons)return a}else{if(2==e.button)return t;if(1==e.button)return a;if(c.mac&&17==function(e){return 16==e.which||17==e.which||18==e.which||91==e.which?e.which:(e.ctrlKey?17:e.shiftKey&&16)||e.altKey&&18||e.metaKey&&91||0}(e))return t}return c.mac&&e.ctrlKey?t:"left"},isLandscape:O,scroll:P,user:w,userAgent:function(){return t.navigator.userAgent}};sndefine("browser",(function(){if(R.content.width=R.screen.width(),R.content.height=R.screen.height(),!c.desktop&&z&&z.content){var e=z.content.split(",").filter((function(e){if(~e.indexOf("width"))return 1}))[0];e&&(e=parseInt(e.split("=")[1],10)),e===Number(e)&&(R.content.width=e,R.content.height=R.screen.height()/(R.screen.width()/e))}return U}))}.call(this),function(){var e,t,a=this,n=a.document,i={};function o(){return e&&e.contentWindow||this}if(a.location&&!a.location.origin&&(a.location.origin=a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")),n.head||(n.head=n.getElementsByTagName("head")[0]),e=n.getElementById("sleeknote-frame"),this.document.body){["querySelectorAll","querySelector","getElementsByClassName","getElementsByTagName"].forEach((function(e){i[e]=function(t,a){try{return function(e,t){if(e)switch(e.nodeType){case 0:return function(){};case 1:return o().Element.prototype[t];case 9:return o().Document.prototype[t];case 11:return o().DocumentFragment.prototype[t]||function(){};default:return console.warn("unknown node type: "+e.nodeType),console.trace(),function(){}}}(t,e).call(t,a)}catch(e){}}}))}t=function(e,t,a,n){return e===e+""&&(e=i.getElementById(e)),function i(o){return e[t+"EventListener"](o,a,!!n),i}},i.JSON={parse:function(){return o().JSON.parse.apply(a,arguments)},stringify:function(){return o().JSON.stringify.apply(a,arguments)}};var s={};function r(e,t){if(e){if(Array.isArray(e)||"function"==typeof e[t])return e;if("item"in e&&"length"in e)return Array.from(e)}}let l=o().Array.prototype.entries;function c(e){let t=r(e,"keys");return t?t.keys():Object.keys(e||s)}function d(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function m(){var e,t,a,n,i,o=arguments.length;for(1==o?("array"==(t=d(arguments[0]))&&(n=[]),"object"==t&&(n={}),i=0):(n=arguments[0],i=1);i<o;i++)if("array"!=(t=d(a=arguments[i]))&&"object"!=t)n=a;else for(e in a)t=d(a[e]),n[e]="array"==t||"object"==t?m(n[e]?n[e]:"array"==t?[]:{},a[e]):a[e];return n}function u(e){return e?e.nodeName?e:n.getElementById(e):null}function g(e,t){return t&&!t.nodeName?(console.warn("QSA second argument must be Element",t),[]):Array.prototype.slice.call(i.querySelectorAll(t||n,e))}["XMLHttpRequest","decodeURIComponent","encodeURIComponent"].forEach((function(e){i[e]=function(){return o()[e].apply(a,arguments)}}),this),["getElementById","createElement","createDocumentFragment"].forEach((function(e){i[e]=function(){return o().document[e].apply(n,arguments)}}),this),i.getComputedStyle=function(e,t){return o().getComputedStyle.call(a,e,t)};var h,p=n.documentElement,f=(h=p.matches||p.matchesSelector||p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector)?function(e,t){return h.call(e,t)}:function(e,t){for(var a=e.parentNode?i.querySelectorAll(e.parentNode,t):[],n=a.length;n--;)if(a[n]===e)return!0};function C(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function y(e,t,a){return Array.prototype.slice.call(e,t,a)}function S(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function E(e){switch(e.nodeName.toLowerCase()){case"input":switch(e.type){case"checkbox":case"radio":if(e.checked)return e.value;break;case"file":case"reset":break;default:return e.value}break;case"textarea":return e.value;case"select":switch(e.type){case"select-one":return e.value;case"select-multiple":var t,a=0;for(a=0,t=e.options.length;a<t;a++)if(e.options[a].selected)return e.options[a].value}break;default:return e.innerText}}let v=o().Promise;function N(e,t,a){var n=e;if("string"==d(t)){for(var i=t.split(a||"."),o=0;o<i.length&&void 0!==(n=n[i[o]]);o++);return n}}m(i,{getDocument:function(e){if(e)return"contentDocument"in e?e.contentDocument:e.contentWindow.document},deepProp:N,allSettled:function(e){return v.all(e.map((function(e){return v.resolve(e).then(this.$,this._)}),{$:function(e){return{status:"fulfilled",value:e}},_:function(e){return{status:"rejected",reason:e}}}))},Promise:o().Promise,URL:o().URL,findPropValue:function e(t,a){if(String(a).split(".").length>1)return N(t,a);var n=d(t);if("array"==n||"object"==n)for(var i in t)if("array"==(n=d(t[i]))||"object"==n){var o=e(t[i],a);if(void 0!==o)return o}else if(i==a&&void 0!==t[i])return t[i]},normalizeFontFamily:function(e){return String(e).split(",")[0].toLowerCase().replace(/['"]+/g,"").replace(/^\s+|\s+$/g,"")},urlFromCSSUrl:function(e){return e&&(e=(e=String(e)).slice(e.indexOf("(")+1,e.indexOf(")")).replace(/"/g,"")).includes(".")?e:""},urlencode:S,entries:function(e){let t=r(e,"entries");return t?l.call(t):Object.entries(e||s)},keys:c,values:function(e){let t=r(e,"values");return t?t.values():Object.values(e||s)},DOMContentLoaded:function(){return new(0,o().Promise)((function e(t){"loading"!=n.readyState?t():a.setTimeout(e,100,t)}))},expireDaysToDate:function(e){var t=new Date;if(e=+e||0)return t.setTime(t.getTime()+864e5*e),t},randomName:function(){var e;do{e=Math.random().toString(36).substring(7)}while(!e.substr(0,1).match(/[a-zA-Z]/));return e},appendToUrl:function(e,t){return e+(t?(~e.indexOf("?")?"&":"?")+t:"")},parseForm:function(e,t,a){"use strict";var n,i,o,s,r={};function l(e,t,a){r[e]=t}if(!e||!e.nodeName||"form"!==e.nodeName.toLowerCase())throw"You must supply a form element";for(n=0,i=e.elements.length;n<i;n++)""===(o=e.elements[n]).name||o.disabled||void 0!==(s=E(o))&&l(o.name,s);Object.keys(t||{}).forEach((function(e){l(e,t[e])}));var c=[];return a?c=r:(c=[],Object.keys(r).forEach((function(e){c.push(S(e)+"="+S(r[e]))}))),c},parseNodeValue:E,keyValueToQueryString:function(e){"use strict";var t=[];return c(e).forEach((function(a){t.push(S(a)+"="+S(e[a]))})),t.join("&")},click:function(e,t){return function(e,t,a){var i;if(e)try{(i=n.createEvent("MouseEvent")).initMouseEvent(a||t.type,!0,!0,t.view,0,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i.initialTarget=t.target,e.dispatchEvent(i)||i.preventDefault()}catch(e){console.log(e.message)}}(e,t,"click")},getAdvOption:function(e,t,a){for(var n=e.options||[],i=n.length,o=[];i--;)if(n[i].id==t){o=n[i].values||[];break}if(void 0===a)return o;for(i=o.length;i--;)if(o[i].id==a)return o[i].value},typeStr:d,listener:t,gid:u,qsa:g,qs:function(e,t){return g(e,t)[0]},extend:m,contains:function(e){var t=Array.isArray(arguments[1])?arguments[1]:y(arguments,1);return Array.isArray(e)?t.some((function(t){return~e.indexOf(t)})):"object"==d(e)?t.some((function(t){return t in e})):t.some((function(t){return e==t}))},slice:y,removeNode:function(e){e&&(e.nodeName||(e=u(e)),e&&e.parentNode&&e.parentNode.removeChild(e))},eventXY:function(e,t){var a,i;return t||(t=0),e.changedTouches&&e.changedTouches.length>t?(a=e.changedTouches[t].pageX,i=e.changedTouches[t].pageY):e.targetTouches&&e.targetTouches.length>t?(a=e.targetTouches[t].pageX,i=e.targetTouches[t].pageY):e.pageX||e.pageY?(a=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(a=e.clientX+n.body.scrollLeft+n.documentElement.scrollLeft,i=e.clientY+n.body.scrollTop+n.documentElement.scrollTop),{x:a,y:i}},throttle:function(e,t,n,i,o){function s(){this.lastTime=0,this.timer=0,this.after=this.after.bind(this),this.run=this.run.bind(this),this.a1,this.a2,this.a3}n||(n=a),s.prototype={after:function(){t.call(n,this.a1,this.a2,this.a3,3),this.lastTime=0,this.timer=0},run:function(){var s=+new Date,r=i&&!this.lastTime?1:s-this.lastTime>e?2:0;r&&(o||(t.call(n,this.a1,this.a2,this.a3,r),this.lastTime=s),this.timer&&a.clearTimeout(this.timer),this.timer=a.setTimeout(this.after,1.25*e))},throttle:function(e,t,n){this.a1=e,this.a2=t,this.a3=n,a.setTimeout(this.run,0)}};var r=new s;return r.throttle.bind(r)},applyOptions:function(e){var t,a=Object.prototype.hasOwnProperty;if(e)for(t in e)a.call(e,t)&&(this[t]=e[t])},template:function(e,t){for(var a=Array.isArray(t)?t.map((function(e,t){return t})):Object.keys(t),n=a.length;n--;)e=e.replace(new RegExp("\\{"+a[n]+"\\}","g"),t[a[n]]);return e.replace(/\{\w*\}/g,"")},insertHTML:function(e,t,a){return e&&e.nodeName?(a||(a="beforeend"),"afterbegin"==a?n=e.firstElementChild:"afterend"==a&&(n=e.nextElementSibling),e.insertAdjacentHTML(a,Array.isArray(t)?t.join(""):t),"beforebegin"==a?e.previousElementSibling:"afterbegin"==a?n?n.previousElementSibling:e.lastElementChild:"beforeend"==a?e.lastElementChild:"afterend"==a?n?n.previousElementSibling:e.parentNode.lastElementChild:void 0):null;var n},isNumeric:function(e){return!/^(NaN|-?Infinity)$/.test(+e)},isFunction:function(e){return"function"==d(e)},getHostname:function(e){return function e(t){return void 0===e.link&&(e.link=i.createElement.call(n,"a")),e.link.href=2==t.split("://").length?t:a.location.protocol+"//"+t,String(e.link.host)}(e)},getHashParams:function(e){var t,a=0,n={};if((e=([(e=e+""||(e=i.getElementsByTagName("script"))&&e.item(e.length-1).src).split("#")[1]]+"").split("&"))[0])for(;a<e.length;a++)n[(t=e[a].split("=",2))[0]]=t[1]?i.decodeURIComponent(t[1].replace(/\+/g," ")):void 0;return n},empty:function(e){var t=Object.prototype.hasOwnProperty;if(!e||0===e.length)return!0;var a=d(e);if("array"!=a){if("object"==a){for(var n in e)if(t.call(e,n))return!1;return!0}return!(e+"").match(/\S/)}},matchesSel:f,guid:function(e){var t=e||{prefix:!1,length:8};t.prefix||(t.prefix=!1),t.length||(t.length=8),this.length=t.length,this.timestamp=+new Date;for(var a,n,i=this.timestamp.toString().split("").reverse(),o="",s=0;s<this.length;++s){o+=i[(a=0,n=i.length-1,Math.floor(Math.random()*(n-a+1))+a)]}return t.prefix&&(o=t.prefix+"-"+o),o},guid_string:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},querySelectorClosest:function(e,t){if(e)do{if(f(e,t))break}while(e=e.parentElement);return e},getQueryVarByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(a.location.search||a.location.hash);return t?i.decodeURIComponent(t[1].replace(/\+/g," ")):""},cleanUpReferral:function(e){var t=e,a=(t=(t=(t=(t=t.replace("https://","")).replace("http://","")).replace("www.","")).split("/")[0]).split(".");return t=t.replace("."+a[a.length-1],"")},trim:function(e){return e?(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""},camelCaseToDashSeparated:C,dashSeparatedToCamelCase:function(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))},PascalCaseToDashSeparated:function(e){return C(e).substr(1)}}),sndefine("utils",(function(){return i}))}.call(this),sndefine("global",(function(){let e=this.document.getElementById("sleeknote-frame");function t(){return e&&e.contentWindow||this}return new(t().Proxy)({},{get(e,a){let n=t()[a];return"fetch"==a&&(n=n.bind(t())),"FormData"==a&&(n=n.bind(t())),n}})})),function(){var e=function(e){for(var t,a,n=[],i=0,o=e.length;i<o;){if(55296==(63488&(t=e.charCodeAt(i++)))){if(a=e.charCodeAt(i++),55296!=(64512&t)||56320!=(64512&a))throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence");t=((1023&t)<<10)+(1023&a)+65536}n.push(t)}return n},t=function(e){for(var t,a=[],n=0,i=e.length;n<i;){if(55296==(63488&(t=e[n++])))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");t>65535&&(t-=65536,a.push(String.fromCharCode(t>>>10&1023|55296)),t=56320|1023&t),a.push(String.fromCharCode(t))}return a.join("")},a=36,n=2147483647;function i(e,t){return e+22+75*(e<26)-((0!==t)<<5)}function o(e,t,n){var i;for(e=n?Math.floor(e/700):e>>1,e+=Math.floor(e/t),i=0;e>455;i+=a)e=Math.floor(e/35);return Math.floor(i+36*e/(e+38))}function s(e,i){var s,r,l,c,d,m,u,g,h,p,f,C,y,S,E=[],v=[],N=e.length;for(s=128,l=0,c=72,(d=e.lastIndexOf("-"))<0&&(d=0),m=0;m<d;++m){if(i&&(v[E.length]=e.charCodeAt(m)-65<26),e.charCodeAt(m)>=128)throw new RangeError("Illegal input >= 0x80");E.push(e.charCodeAt(m))}for(u=d>0?d+1:0;u<N;){for(g=l,h=1,p=a;;p+=a){if(u>=N)throw RangeError("punycode_bad_input(1)");if((f=(S=e.charCodeAt(u++))-48<10?S-22:S-65<26?S-65:S-97<26?S-97:a)>=a)throw RangeError("punycode_bad_input(2)");if(f>Math.floor((n-l)/h))throw RangeError("punycode_overflow(1)");if(l+=f*h,f<(C=p<=c?1:p>=c+26?26:p-c))break;if(h>Math.floor(n/(a-C)))throw RangeError("punycode_overflow(2)");h*=a-C}if(c=o(l-g,r=E.length+1,0===g),Math.floor(l/r)>n-s)throw RangeError("punycode_overflow(3)");s+=Math.floor(l/r),l%=r,i&&v.splice(l,0,e.charCodeAt(u-1)-65<26),E.splice(l,0,s),l++}if(i)for(l=0,y=E.length;l<y;l++)v[l]&&(E[l]=String.fromCharCode(E[l]).toUpperCase().charCodeAt(0));return t(E)}function r(t,s){var r,l,c,d,m,u,g,h,p,f,C,y;s&&(y=e(t));var S=(t=e(t.toLowerCase())).length;if(s)for(u=0;u<S;u++)y[u]=t[u]!=y[u];var E,v,N=[];for(r=128,l=0,m=72,u=0;u<S;++u)t[u]<128&&N.push(String.fromCharCode(y?(E=t[u],v=y[u],(E-=(E-97<26)<<5)+((!v&&E-65<26)<<5)):t[u]));for(c=d=N.length,d>0&&N.push("-");c<S;){for(g=n,u=0;u<S;++u)(C=t[u])>=r&&C<g&&(g=C);if(g-r>Math.floor((n-l)/(c+1)))throw RangeError("punycode_overflow (1)");for(l+=(g-r)*(c+1),r=g,u=0;u<S;++u){if((C=t[u])<r&&++l>n)return Error("punycode_overflow(2)");if(C==r){for(h=l,p=a;!(h<(f=p<=m?1:p>=m+26?26:p-m));p+=a)N.push(String.fromCharCode(i(f+(h-f)%(a-f),0))),h=Math.floor((h-f)/(a-f));N.push(String.fromCharCode(i(h,s&&y[u]?1:0))),m=o(l,c+1,c==d),l=0,++c}}++l,++r}return N.join("")}var l={encodePuny:function(e){for(var t=e.split("."),a=[],n=0;n<t.length;++n){var i=t[n];a.push(i.match(/[^A-Za-z0-9-]/)?"xn--"+r(i):i)}return a.join(".")},decodePuny:function(e){for(var t=e.split("."),a=[],n=0;n<t.length;++n){var i=t[n];a.push(i.match(/^xn--/)?s(i.slice(4)):i)}return a.join(".")}};sndefine("punycode",(function(){return l}))}.call(this),sndefine("core-sleeknote",["browser","utils"],(function(e,t){var a=this,n=a.document,i={hooks:{},CustomInitSettings:{},storageOptions:{},STATUS:{UNKN:1,IGNORE:2,DESKTOP:3,TABLET:4,MOBILE:5}};a.SleekNote||(a.SleekNote={});for(var o=a.location,s=function(e,a){var n,i,o={};if((e=(e=e.replace(/[?#]/,"")).split("&").filter((function(e){return!t.empty(e)})))[0])for(n=0;n<e.length;n++){i=e[n].split("=",2);try{o[i[0]]=i[1]?a?i[1]:t.decodeURIComponent(i[1].replace(/\+/g," ")):void 0}catch(e){e instanceof URIError&&(console.log("Error decoding query, using encoded one"),o[i[0]]=i[1])}}return o}(!o.search&&o.hash?o.hash:o.search),r=n.getElementsByTagName("script"),l=r.length,c="";l--;){var d=r[l].src;if((a.SleekNote.local||d&&~d.indexOf("sleeknotestaticcontent"))&&~d.indexOf("core")&&d.indexOf("core-api.js")<0&&d.indexOf("core-boot.js")<0){c=r[l].src;break}}var m=!a.SleekNote.branch&&s.snbranch;if(i.appendToFile="",c&&m){a.SleekNote.branch=m,a.SleekNote.path="https://core-branches.sleeknote.com/";var u=a.document.createElement("script");throw u.type="text/javascript",u.src=a.SleekNote.path+"branch-"+m+"/frontend2/core.js",n.body.appendChild(u),new Error("Switching to "+u.src)}i.debug=s.sndebug||s.sleeknote_debug&&"1"||"",i.debug?window.name||(window.name="sndebug"):"sndebug"==window.name&&(i.debug="1"),i.reset=s.snreset,i.editor=s.sneditor,i.preview=s.snpreview,i.preview&&(i.mergeId=void 0===s.snmergeid?0:s.snmergeid),i.timestamp="?"+(Number("{{sleekNotetimestamp}}")||""),i.isRealMobileSite=function(){return e.is.phone&&"isRealMobileSite"in i.CustomInitSettings?!!i.CustomInitSettings.isRealMobileSite:!e.is.phone||e.notScaledMobileContent()},i.getBase=function(){return i.root},i.custom=function(e,t,a){var n=i.CustomInitSettings&&i.CustomInitSettings[e];return void 0===a?n||t:n?t:a},i.getFixedValue=function(){return"fixed"},i.use3D=!e.is.desktop&&!e.is.chrome&&!e.is.edge,Object.keys(a.SleekNote).forEach((function(e){void 0!==a.SleekNote[e]&&(i[e]=a.SleekNote[e])})),i.CustomInitSettings.cookiePath&&(i.storageOptions.cookiePath=i.CustomInitSettings.cookiePath);var g=i.HideSleeknoteBadge;return void 0===g&&(g=!0),!g&&i.CustomerId>=790&&(i.needBadge=!0),a.dev||(a.dev=Object.create(null)),i.expose=function(e,t){return a.dev[t]=e,e},i})),sndefine("event-emitter",["utils","global"],(function(e,t){var a=this,n=a.document;return function(i,o){return new t.Promise((function(t,s){try{a.requestAnimationFrame((function(){var a=n.createEvent("Event");if(a.initEvent("sleekNote",!0,!0),a.data=function(t,a){switch(t){case"load":return{type:t,command:a};case"ready":let n=a,i={},o={};for(let[t,a]of e.entries(n.notes))o[t]={name:t,DOMNode:a.config.DOMNode},i[t]=a.config.DOMNode;return{type:t,campaignId:n.config.campaignId,boxes:o,DOMNodes:i};default:return a?{...a,command:t,type:a.type||t,campaignId:a.origin&&a.origin.config.campaignId||a.campaign&&a.campaign.config.campaignId||a.campaignId}:{command:t,type:t}}}(i,o),n.dispatchEvent(a),a.data.result&&a.data.result.then?a.data.result.then(t,s):t(),"visible"==i){let t=a.data;["opened","closed"].map((function(i){for(let o of e.values(t[i]))a.data={type:"opened"==i?"entry":"exit",campaignId:o.campaign.config.campaignId,box:{name:o.noteName},origin:o.campaign.notes[o.noteName],noteName:o.noteName},o.noteName&&(a.data.box.DOMNode=o.campaign.notes[o.noteName].config.DOMNode),n.dispatchEvent(a)}))}else"click"==i?(a.data={type:"click",campaignId:o.campaignId,DOMNode:o.eventTarget,noteName:o.name,href:o.href,action:o.step},n.dispatchEvent(a)):"submitted"==i&&(a.data={type:"submit",campaignId:o.campaignId,data:o.formData},n.dispatchEvent(a))}))}catch(e){s()}}))}})),sndefine("location",["utils","punycode"],(function(e,t){var a=this,n=a.document.createElement("a");function i(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;this.set.apply(this,e)}function o(t,a){var n,i,o={};if((t=(t=t.replace(/[?#]/,"")).split("&").filter((function(t){return!e.empty(t)})))[0])for(n=0;n<t.length;n++){i=t[n].split("=",2);try{o[i[0]]=i[1]?a?i[1]:e.decodeURIComponent(i[1].replace(/\+/g," ")):void 0}catch(e){e instanceof URIError&&(console.log("Error decoding query, using encoded one"),o[i[0]]=i[1])}}return o}function s(e,t){return n.href=function(e,t){t||(t="http:"),/^\/\//i.test(e)||(t+="//");/^https?:\/\//i.test(e)||(e=t+e);return e}(e,t),new i(t,n.hostname,n.pathname,n.search,n.hash,n.port).toString()}function r(e,t){n.href=e;var a,o=n.pathname.replace(".aspx","").replace(".html","").replace(".htm","").replace(".php",""),s=i.prototype.queryParams.call(n,!0),r=!n.search&&n.hash,l=[];for(a in s)if(s.hasOwnProperty(a)){if(!(a.indexOf("utm_")&&a.toLowerCase().indexOf("sndebug")&&a.toLowerCase().indexOf("snbranch")&&a.toLowerCase().indexOf("snreset")&&a.toLowerCase().indexOf("snsubscribed")))continue;l.push(a+(void 0===s[a]?"":":"+s[a]))}return l=l.join("&"),e=(e=(e=new i(n.protocol,n.hostname,o,r?"":l,r?l:t?"":n.hash,n.port)).toString().replace(/\/$/g,"")).replace(/:\/\/www\./g,"://")}function l(e,t){if(t&&(l.loc=void 0),!l.loc){var n=e.local===String(e.local)?i.fromString(e.local):a.location;l.loc=new i(["protocol","hostname","pathname","search","hash","port"].map((function(t){var i;return"pathname"==t&&"/"==n[t]?a.location[t]:(i=n[t]||a.location[t],"hostname"==t&&(i=i.replace(/^www\./,"")),"search"==t&&e.CustomInitSettings.ignoreHashInUrlPath&&n.hash.indexOf("?")>-1&&(i=n.hash.slice(n.hash.indexOf("?"))),i)})))}return l.loc}return i.fromString=function(e){return n.href=t.decodePuny(e),new i(n.protocol,n.hostname,n.pathname,n.search,n.hash,n.port)},i.addProtocolIf=i,i.extractDomain=function(i){return"string"!=e.typeStr(i)||e.empty(i)?"":(i=t.decodePuny(i),n.href=r(s(i,a.location.protocol),!0),n.hostname)},i.prototype={domainMatches:function(e){return e=t.decodePuny(e),n.href=r(s(e,this.protocol),!0),this.hostname==n.hostname},matches:function(e,a){e=r(s(e=t.decodePuny(e),this.protocol),!a).toUpperCase();var n,i=r(this.toString(),!a).toUpperCase();if(~e.indexOf("*")){var o=e.split("*")[0];return n=r(o).toUpperCase(),"/"==o[o.length-1]&&o.split("/").length>4&&(n+="/"),0===i.indexOf(n)||0===(i+"/").indexOf(n)}return i==e},contains:function(e){return null!=e&&!1!==e&&r(this.toString(),!0).toUpperCase().indexOf(String(e).toUpperCase())>-1},queryParams:function(e){return o(!this.search&&this.hash?this.hash:this.search,e)},toString:function(){return this.href},set:function(e,t,a,n,i,o){e||(e="http:"),i=i?("#"==i.charAt(0)?"":"#")+i:"",n=n?("?"==n.charAt(0)?"":"?")+n:"",o||(o=""),a||(a=""),a&&"/"!=a.charAt(0)&&(a="/"+a),80!=o&&443!=o||(o="");var s=e+"//"+(t=(t||"").split(":")[0])+(o?":"+o:"");return this.hash=i,this.search=n,this.port=o||"",this.origin=s,this.protocol=e,this.href=s+a+n+i,this.hostname=t,this.pathname=a,this.host=t,this}},i.get=l,i.reset=function(e){return l(e,!0)},i})),sndefine("logger",["core-sleeknote","constants"],(function(e,t){const a=this;function n(...e){try{throw new Error("debug")}catch(a){var t=a.stack.split("\n").slice(2,3).join("").split(":").slice(2,3).join("");return e.push("line:",t),e.join(" ")}}function i(e,t,a){return"string"==typeof e&&(e=e.split("-")[0]),a===Boolean(a)&&(a=a?"YES":"NO"),0===(t+"").indexOf("START")&&(e="\n"+e),void 0!==a&&(t+=": "+a),e+" "+t}function o(e,t,a,n,i){e.CampaignId;var o=(e.CampaignId+"").split("-")[0];i===Boolean(i)&&(i=i?"YES":"NO");var s=[o," ",t||""," [",a||"",', "',n||"",'"]'];void 0!==i&&s.push(" ->");i=void 0===i?"":i;return s.join("")+i}return{log:function(s,r=(e=>e)){const l=t.CORE.FORMATTERS,c={[l.EVALUATOR]:o,[l.CORE]:n,[l.CONFIG]:i};if(e.debug==s){if(c[r])return r=c[r],(...e)=>{console.log(r(...e))};if(r==l.SNDEBUG)return(...e)=>function({type:e,msgs:t=[],styles:n=[]}){if(a.location.search.includes("sleeknote_logs_to_var"))return a.logs||(a.logs=""),a.logs+=t.join(""),void(a.logs+="\n");n=n.map((e=>{switch(e){case"error":return"font-weight: bold; color: rgb(221, 48, 82)";case"normal":return"color: rgb(37, 52, 90)";case"normal-bold":return"color: rgb(37, 52, 90);font-weight: bold;";case"success":return"font-weight: bold; color: rgb(11, 121, 93)";case"message":return"color: rgb(84, 87, 255);font-weight: bold;";case"group":return"font-weight: bold;color: rgb(38, 39, 115);";case"italic":return"font-style: italic;";default:return e}}));let i="";t.forEach((e=>{i+=`%c${e}`}));let o=[i,...n];switch(e){case"group":console.group(...o);break;case"groupCollapsed":console.groupCollapsed(...o);break;case"groupEnd":console.groupEnd();break;default:console.log(...o)}}(...e)}return s==t.CORE.LOGLEVELS.EDITORTARGETING?(a.targetingEditorLog="",e=>{a.targetingEditorLog+=`${e.msgs[0]}<br/>`}):()=>{}}}})),sndefine("consent",["utils"],(function(e){var t=this,a={};return function(n,i,o){var s=e.dashSeparatedToCamelCase("sleeknote-"+n+"-consent");let r=Object.getOwnPropertyDescriptor(t,s);if(!r||!r.set){if(!i)return!1;if(s in t)a[s]=!!t[s],o(a[s],n,i);else{var l=i(n,!0);a[s]=void 0===l||!!l}var c=function(e){e=!!e,a[s]!=e&&(a[s]=e,o(a[s],n,i))};Object.defineProperty(t,s,{set:c,get:function(){var e=new Boolean(!!a[s]);return e.set=c,e}})}return a[s]}})),sndefine("cookie",["utils"],(function(e){var t=this.document;return{hasItem(a){if(a)return new RegExp("(?:^|;\\s*)"+e.encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(t.cookie)},keys:()=>t.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/).map((t=>e.decodeURIComponent(t))),getItem(a,n){return a&&function(t,a){return a?t:e.decodeURIComponent(t)}(t.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+(i=a,o=n,o?i:e.encodeURIComponent(i)).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"),n)||null;var i,o},setItem(a,n,i,o,s,r,l){let c="";if(a&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(a)){if(i)switch(i.constructor){case Number:c=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:c="; expires="+i;break;case Date:c="; expires="+i.toUTCString()}return t.cookie=(l?a:e.encodeURIComponent(a))+"="+(l?n:e.encodeURIComponent(n))+c+(s?"; domain="+s:"")+(o?"; path="+o:"")+(r?"; secure":"")+"; SameSite=Lax",!0}},removeItem(a,n,i){return!!this.hasItem(a)&&(t.cookie=e.encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(n?"; path="+n:""),!0)}}})),sndefine("targeting-evaluator",["logger","constants","utils","global"],(function(e,t,a,n){const i=this,{MATCHES:o,CONTAINS:s}=t.TARGETING.TYPES,{SHOW:r,HIDE:l}=t.TARGETING.VISIBILITY,{AND:c}=t.TARGETING.RELATIONS,d=[o,s],m={AND:"every",OR:"some"};function u(e){try{const t=e.includes("http")?e:`https://${e}`;return new n.URL(t)}catch(e){console.error(e)}}return{[o](e,t,n,o){const s=o||i.location;function r(e){return"/"==e[e.length-1]?e.substring(0,e.length-1):e}function l(e){return"www."==e.substring(0,4)?e.substring(4,e.length):e}return a.keys(e).some((e=>{this.log({msgs:[`       ${e} ...`],styles:["normal"]});const t=u(e),a=["hostname","pathname","search","hash"].every((e=>{let a=s[e],n=t[e];if(("search"==e||"hash"==e)&&!n)return!0;if("hostname"==e&&(a=l(a),n=l(n)),"pathname"==e&&(n=r(n),a=r(a),n.includes("*"))){let[t,i]=n.split("*");t=r(t);const o=!t||r(a.substring(0,t.length)).toUpperCase()==t.toUpperCase(),s=!i||a.substring(a.length-i.length,a.length).toUpperCase()==i.toUpperCase();return o&&s?this.log({msgs:[`            "${n}" matches current url ${e}(${a})`],styles:["normal"]}):this.log({msgs:[`            "${n}" doesn't match current url ${e}(${a})`],styles:["normal"]}),o&&s}if(n.includes("*")){let e=n.split("*")[0];n=n.substr(0,e.length),a=a.substr(0,e.length)}return n.toUpperCase()==a.toUpperCase()?(this.log({msgs:[`            "${n}" matches current url ${e}(${a})`],styles:["normal"]}),!0):(this.log({msgs:[`            "${n}" doesn't match current url ${e}(${a})`],styles:["normal"]}),!1)}));return a||this.log({msgs:[`            "${e}" doesn't match current url(${s.href})`],styles:["normal"]}),a}))},[s](e,t,n,o){const s=o||i.location,r=m[t];return a.keys(e)[r]((e=>{this.log({msgs:[`       ${e} ...`],styles:["normal"]});const t=["hostname","pathname","search","hash"].some((t=>!!s[t].toUpperCase().includes(e.toUpperCase())&&(this.log({msgs:[`            "${e}" found in ${t}`],styles:["normal"]}),!0)));return t||this.log({msgs:[`          "${e}" not found in this URL`],styles:["normal"]}),t}))},proccessTree(e,t,n){if(d.includes(e.type)){this.log({msgs:[`   ${e.type.toUpperCase()} ${e.relationOperator==c?"all of":"one of"}:`],styles:["normal"]});const a=this[e.type](e.values,e.relationOperator,t,n);return this.log({msgs:[`   ${e.type.toUpperCase()} with ${e.relationOperator} relation evaluated to: ${a}`],styles:["normal"]}),a}if(!a.empty(e.children)){"Root"!=e.id&&this.log({msgs:[` ${e.visibility==r?"SHOW":"HIDE"} if URL...`],styles:["normal"]});const i=m[e.relationOperator];let o=a.keys(e.children)[i]((a=>this.proccessTree(e.children[a],t,n)));return o=e.visibility==l?!o:o,"Root"!=e.id&&this.log({msgs:[` group ${e.visibility==r?"SHOW":"HIDE"} evaluated to ${o?"SHOW":"HIDE"}`],styles:["normal"]}),o}},evaluate:function(a){this.log=e.log(t.CORE.LOGLEVELS.CS,t.CORE.FORMATTERS.SNDEBUG);var n=(a.CampaignId+"").split("-")[0];return!!a.targeting.targetAll||this.proccessTree(a.targeting.root,n)},editorEvaluate:function(a,n){this.log=e.log(t.CORE.LOGLEVELS.EDITORTARGETING);const i=u(a),o=this.proccessTree(n.root,"",i);return this.log({msgs:["TARGETING EVALUATED TO "+(o?"SHOW":"HIDE")]}),o}}})),sndefine("storage-categories",["consent","utils","core-sleeknote"],(function(e,t,a){let n={timestamp:"sn_global_countdown_last_reset_timestamp",_sn_a:"_sn_a",_sn_m:"_sn_m",_sn_n:"_sn_n",location:"location",mergeId:"mergeId",cookie:"cookie",session:"session",siteData:"siteData",local:"local",analytics:"analytics",marketing:"marketing",SNSubscribed:"SNSubscribed",SNS:"SNS",necessary:"necessary",SleekNote:"SleekNote"},{timestamp:i,_sn_a:o,_sn_m:s,_sn_n:r,location:l,cookie:c,session:d,siteData:m,local:u,analytics:g,marketing:h,SNSubscribed:p,SNS:f,necessary:C,SleekNote:y,mergeId:S}=n,E={[g]:["visitorId","goalShown","goalEngaged","userSessionStart","userSessionEnd",l],[C]:["globalCountdown","sessionId","campaignClosed","campaignHidden","sessionConverted","campaignEngaged","queryIncluded","showCount","sessionShowCount","inSplitTest","splitTestCohort","consent","mergeId"],[h]:["referrer","UTMInclude","sequence","pagesVistedTotal","pageVisitedSession","newVisitor","geoLocation","IPAddress"]},v=a.custom("necessaryNotInCookie");let N={cookie:{[o]:{default:{},type:c},[s]:{default:{},type:c},[r]:{default:{},type:c},[f]:{type:c},[p]:{type:c}},local:{[y]:{default:{},type:u},[i]:{type:u}},session:{[y]:{default:{},type:d}}},I={[g]:E[g],[h]:E[h],[m]:[m]};return{isAllowed:function(n){if(a.preview)return!1;if(n==m)return e(n);for(let[a,i]of t.entries(I))if(i.includes(n))return e(a);return!0},overAllKeys:async function(e,a,n,i){for(let[o,s]of t.entries(N))for(let t of Object.keys(s)){let s=await e[o][a](t);n&&n.call(i,s,o,t)}},getStorage:function(e){let a=function(e){if(t.contains(e,m))return d;let a=[S,"timestamp"];return v&&a.push("globalCountdown","sessionId","campaignClosed","campaignHidden","sessionConverted","campaignEngaged","queryIncluded","showCount","sessionShowCount","inSplitTest","splitTestCohort"),t.contains(e,a)?u:c}(e),n=e;return a==c?n=function(e){for(let[a,n]of t.entries(E))if(n.includes(e))return"_sn_"+a.charAt(0);return e}(e):a==d?n=y:a==u&&(n="timestamp"==n?i:y),{type:a,key:n}},props:n,storageKeys:N,getStorageForErase:function(e){return{[g]:[[c,o]],[h]:[[c,s]],[m]:[[d,y]]}[e].map((e=>({type:e[0],key:e[1]})))}}})),sndefine("storage-base",["utils","storage-categories"],(function(e,t){function a(t){for(let n in t)"object"==typeof t[n]?(a(t[n]),e.empty(t[n])&&delete t[n]):null!=t[n]&&""!==t[n]||delete t[n];return e.empty(t)?void 0:t}return class{constructor(e){this.cache=Object.create(null)}has(e){return e in this.cache}async write(n,i,o){this.cache[i]=e.extend(o),void 0===(o=a(this.cache[i]))?await this.erase(i):t.isAllowed(n)&&await this.writeData(i,o)}async writeData(e){}async read(a){let n=t.storageKeys[this.type][a].default,i=await this.readData(a);return this.cache[a]=e.extend(void 0===i?n:i),this.cache[a]}async readData(e){}async erase(e){let a=t.storageKeys[this.type][e].default;void 0===a?delete this.cache[e]:this.cache[e]=a,await this.eraseData(e)}async eraseData(e){}}})),sndefine("storage-cookie",["utils","cookie","storage-base","core-sleeknote"],(function(e,t,a,n){return class extends a{constructor(t){super(t),this.cookiePath=n.storageOptions.cookiePath||"/",this.cookieDomain=void 0,this.cookieSecure=!1,this.days=365,this.noCookieEncoding=!0,this.type="cookie",e.applyOptions.call(this,t)}setCookie(a,n,i,o){return t.setItem(a,n,e.expireDaysToDate(i),this.cookiePath,this.cookieDomain,this.cookieSecure,o)}removeCookie(e){return t.removeItem(e,this.cookiePath,this.cookieDomain)}readCookie(e,a){return t.getItem(e,a)}async writeData(t,a){this.setCookie(t,e.JSON.stringify(a),this.days,this.noCookieEncoding)}async readData(a){let n;try{null!==t.getItem(a)&&(n=e.JSON.parse(t.getItem(a)))}catch(e){}return n}async eraseData(e){this.removeCookie(e)}}})),sndefine("storage-local",["utils","storage-base","global"],(function(e,t,a){var n=this;return class extends t{constructor(e){super(e),this.type=e.name||"local",this.name=this.type+"Storage",function(e){try{return n[e].setItem("test","1"),n[e].removeItem("test"),e in n&&null!==n[e]}catch(e){}}(this.name)||(this.dummyStorage=!0)}async readData(t){if(!this.dummyStorage){let a;try{a=e.JSON.parse(n[this.name].getItem(t))}catch(e){}return null===a?void 0:a}}async writeData(t,i){return!!this.dummyStorage||new a.Promise((a=>{n.requestAnimationFrame((()=>{n[this.name].setItem(t,e.JSON.stringify(i)),a()}))}))}async eraseData(e){this.dummyStorage||n[this.name].removeItem(e)}}})),sndefine("storage-cookie-session",["utils","storage-cookie"],(function(e,t){var a="SNS";return class extends t{constructor(){super(),this.set=!!this.readCookie(a,!0),this.set||this.setCookie(a,1,"",!0)}unset(){this.set=!1,this.removeCookie(a)}}})),sndefine("storage-instance",["utils","storage-cookie-session","constants","core-sleeknote","location","storage-cookie","storage-local","storage-categories","consent","event-emitter","global"],(function(e,t,a,n,i,o,s,r,l,c,d){var m=this.document;function u(e){return String(e).substring(0,4)}let g=new class{constructor(){this.providers={session:new s({name:"session"}),local:new s({name:"local"}),cookie:new o},m.addEventListener("sleekNote",this)}handleEvent(t){let n=a.CORE.COMMANDS,{command:i,campaignId:o,origin:s,name:r}=t.data;if(i==n.OPEN){let e=s.campaign;if(e.first("form")==r){if(this.incrementShowCount(o),e.config.position==a.POS.EMBEDDED)return;this.closeSession(o),a.PROFILE.MOBILE!=e.config.profile||e.isHello||this.hideSession(o)}}else if(i==n.CLOSE){if(s.campaign.config.position==a.POS.EMBEDDED)return;let t=s.config.type;e.contains(t,"teaser","form")&&this.hideSession(o)}else if(i==n.SUBMIT){let e,t,n=s.campaign,i=!0;switch(n.config.type){case"social":break;case"newsletter":e=!0,t=!0;break;case"contact":case"blank":case"promote":case"guide":t=!0}if(i&&this.setShowCount(o,999999),t&&this.setEngaged(o),n.config.position==a.POS.EMBEDDED)return;e&&this.setSubscription(),this.hideSession(o)}}async postCreate(){await r.overAllKeys(this.providers,"read");let o=r.props._sn_n,s=this.providers.cookie,d=this;function u(e,t){l(e,(function(e,a){let n=s.cache[o];return a?n[t]:n}),(function(e,a,n){let i=n(a);e?delete i[t]:(i[t]=e,d.erase(a)),s.write("consent",o,i)}))}u.bind(this,"analytics","ca").call(),u.bind(this,"marketing","cm").call(),u.bind(this,"siteData","csd").call(),this.resetMemData(),(new t).set||(await this.resetSessionData(),this.setNewVisitor(this.newVisitorCheck())),void 0===this.getNewVisitor()&&this.setNewVisitor(!1),this.newVisitor=this.getNewVisitor();let g=e.cleanUpReferral(m.referrer);!this.getReferral()&&g.indexOf(i.get(n).host)<0&&this.setReferral(g),"true"==e.getQueryVarByName("SNSubscribed")&&this.setSubscription(),c(a.CORE.EVENTS.STORAGE,{ready:"ready"})}async clear(){await r.overAllKeys(this.providers,"erase"),await this.postCreate()}read(t){let{type:a,key:n}=r.getStorage(t),i={};return a&&n&&(i=this.providers[a].cache[n]),"object"!=e.typeStr(i)||"cs"in i||(i.cs={}),i}async write(e,t){let{type:a,key:n}=r.getStorage(e);if(a&&n){let i=t;return this.providers[a].write(e,n,i)}}async erase(e){for(let{type:t,key:a}of r.getStorageForErase(e).values())return"cookie"!==t&&a!=r.props.timestamp?this.write(e,void 0):this.providers[t].erase(a)}readByCampaignId(e,t){let a=this.read(e);return a.cs||(a.cs={}),a.cs[u(t)]||{}}async writeByCampaignId(t,a,n){let i=this.read(t);return i.cs||(i.cs={}),e.empty(n)?delete i.cs[u(a)]:i.cs[u(a)]=n,this.write(t,i)}preserveIfNotExpired(e){return e&&e.length>=1?Date.now()<e[0]?e:void 0:e}async resetSessionData(){this.deleteReferral(),this.deleteGoal(),this.deleteGeoInfo(),this.deleteSessionShowCount(),this.resetMemData(),await this.resetCampaignSessionData()}resetMemData(){this.pageVisited={}}async resetCampaignSessionData(){await r.overAllKeys(this.providers,"read",(async function(t,a,n){if(t&&t.cs)for(let[a,n]of e.entries(t.cs))t.cs[a]={i:this.preserveIfNotExpired(n.i),pv:n.pv}}),this)}async forceResetSession(e){var t,a,n;"full"!=e&&(t=this.getGeoInfo(),n=this.getIPAddress(),a=this.getPagesVisitedCount()),r.overAllKeys(this.providers,"erase"),this.setNewVisitor(this.newVisitorCheck()),this.newVisitor=this.getNewVisitor(),t&&this.setGeoInfo(t),a&&this.setPagesVisitedCount(a),n&&this.setIPAddress(n),this.startSessionTime()}async closeSession(e){var t=this.readByCampaignId("campaignClosed",e);return t.c=1,this.writeByCampaignId("campaignClosed",e,t)}async openSession(e){var t=this.readByCampaignId("campaignClosed",e);return delete t.c,this.writeByCampaignId("campaignClosed",e,t)}isSessionClosed(e){return!!(this.readByCampaignId("campaignClosed",e)||{}).c}async hideSession(e){var t=this.readByCampaignId("campaignHidden",e);return t.h=1,this.writeByCampaignId("campaignHidden",e,t)}async unHideSession(e){var t=this.readByCampaignId("campaignHidden",e);return delete t.h,this.writeByCampaignId("campaignHidden",e,t)}isSessionHidden(e){return!!this.readByCampaignId("campaignHidden",e).h}migrateEngaged(e){var t=this.readByCampaignId("campaignEngaged",e);return t.e=1,this.writeByCampaignId("campaignEngaged",e,t)}setEngaged(e){var t=this.readByCampaignId("campaignEngaged",e);t.e=1,this.writeByCampaignId("campaignEngaged",e,t),this.recordGoalEngaged(e)}setUnEngaged(e){let t=this.readByCampaignId("campaignEngaged",e);delete t.e,this.writeByCampaignId("campaignEngaged",e,t),t=this.read("goalEngaged"),t.g&&t.g.e&&(delete t.g.e[e],this.write("goalEngaged",t))}isEngaged(e){return!!this.readByCampaignId("campaignEngaged",e).e}convertSessionEvent(e){var t=this.readByCampaignId("sessionConverted",e);return t.z=1,this.writeByCampaignId("sessionConverted",e,t)}hasConvertSessionEvent(e){return!!this.readByCampaignId("sessionConverted",e).z}setUTMInclude(e,t){var a=this.readByCampaignId("UTMInclude",e);return a.u=t,this.writeByCampaignId("UTMInclude",e,a)}getUTMInclude(e){return this.readByCampaignId("UTMInclude",e).u}setQueryInclude(e,t){var a=this.readByCampaignId("queryIncluded",e);return a.q=t,this.writeByCampaignId("queryIncluded",e,a)}getQueryInclude(e){return this.readByCampaignId("queryIncluded",e).q}getSequence(t){var a,n=this.readByCampaignId("sequence",t);return a=n.s,Array.isArray(a)&&a.forEach((function(t,a,n){n[a]=e.decodeURIComponent(t)})),a||[]}setSequence(t,a){var n,i=this.readByCampaignId("sequence",t);return e.empty(a)?delete i.s:i.s=(n=a,Array.isArray(n)&&n.forEach((function(t,a,n){n[a]=e.encodeURIComponent(t)})),n),this.writeByCampaignId("sequence",t,i)}getPagesVisitedCountPerSession(e){return this.readByCampaignId("pageVisitedSession",e).pvs}setPagesVisitedCountPerSession(t,a){var n=this.readByCampaignId("pageVisitedSession",t);return e.empty(a)?delete n.pvs:n.pvs=a,this.writeByCampaignId("pageVisitedSession",t,n)}getPagesVisitedCount(e){return(this.readByCampaignId("pagesVistedTotal",e)||{}).pv}setPagesVisitedCount(t,a){var n=this.readByCampaignId("pagesVistedTotal",t);return e.empty(a)?delete n.pv:n.pv=a,this.writeByCampaignId("pagesVistedTotal",t,n)}getPagesVisitedCountSetted(e){return this.pageVisited[e]&&this.pageVisited[e].spv}setPagesVisitedCountSetted(e,t){this.pageVisited[e]={spv:t}}getPagesVisitedCountPerSessionSetted(e){return this.pageVisited[e]&&this.pageVisited[e].spvs}setPagesVisitedCountPerSessionSetted(e,t){this.pageVisited[e]={spvs:t}}setSubscription(){return this.providers.cookie.write("sns","SNSubscribed",!0)}eraseSubscription(){return this.providers.cookie.write("sns","SNSubscribed",!1)}isSubscribed(){return this.providers.cookie.read("SNSubscribed",!1)}migrateShowCount(e,t,a){var n=this.readByCampaignId("showCount",e);n.i=[a,t],this.writeByCampaignId("showCount",e,n)}setShowCount(t,a,n){n=+n||365;var i=this.readByCampaignId("showCount",t);return i.i=[e.expireDaysToDate(n).getTime(),a],this.writeByCampaignId("showCount",t,i)}getShowCount(e){var t=this.readByCampaignId("showCount",e);return t.i=t.i||[],t.i[1]||0}incrementShowCount(e){this.setShowCount(e,this.getShowCount(e)+1),this.incrementSessionShowCount(),this.recordGoalShown(e)}eraseShowCount(e){var t=this.readByCampaignId("showCount",e);return delete t.i,this.writeByCampaignId("showCount",e,t)}cleanShowCount(e){this.getShowCount(e)<1&&this.eraseShowCount(e)}deleteSessionShowCount(){var e=this.read("sessionShowCount");return delete e.ssc,this.write("sessionShowCount",e)}setSessionShowCount(e){var t=this.read("sessionShowCount");return t.ssc=e,this.write("sessionShowCount",t)}getSessionShowCount(){return+this.read("sessionShowCount").ssc||0}incrementSessionShowCount(){return this.setSessionShowCount(this.getSessionShowCount()+1)}deleteReferral(e){var t=this.read("referrer");if(t.r)return delete t.r.r,this.write("referrer",t)}setReferral(e){var t=this.read("referrer");return t.r=t.r||{},t.r.r=e,this.write("referrer",t)}getReferral(){var e=this.read("referrer");return e.r=e.r||{},e.r.r||""}newVisitorCheck(){return void 0===this.getNewVisitor()}setNewVisitorIf(e){e&&this.setNewVisitor(!0)}setNewVisitor(e){var t=this.read("newVisitor");return t.r=t.r||{},t.r.n=+e,this.write("newVisitor",t)}getNewVisitor(){var e=this.read("newVisitor");return e.r=e.r||{},e.r.n}setVistorIdIf(e){var t=this.read("visitorId");if(t)return t.v=t.v?t.v:e,this.write("visitorId",t),t.v}getVistorId(){var t=this.read("visitorId");return t.v||(t.v=e.guid_string(),this.write("visitorId",t)),t.v}hasVisitorId(){return!e.empty(this.read("visitorId").v)}deleteGeoInfo(e){var t=this.read("geoLocation");return delete t.gi,this.write("geoLocation",t)}async setGeoInfo(e){var t=this.read("geoLocation");return t.gi=e,this.write("geoLocation",t)}getGeoInfo(){return this.read("geoLocation").gi}async fetchGeoInfo(){let t=this.getGeoInfo();if(e.empty(t)){if(t=await d.fetch("https://geolocation.sleeknote.com").then((e=>e.text())).then((e=>{let t=JSON.parse(e);if(t.countryCode)return{lt:t.latitude,lg:t.longitude,latitude:t.latitude,longitude:t.longitude,country:t.countryName,countryCode:t.countryCode,regionCode:t.regionCode,regionName:t.regionName}})).catch((e=>{console.log(e)})),e.empty(t))return!1;await this.setGeoInfo(t)}return t}setIPAddress(e){var t=this.read("IPAddress");return t.ip=e,this.write("IPAddress",t),t.ip}getIPAddress(){return this.read("IPAddress").ip}deleteGoal(){var e=this.read("goalShown");return delete e.g,this.write("goalShown",e)}migrateGoalShown(e,t){var a=this.read("goalShown");return a.g=a.g?a.g:{},a.g.sc=a.g.sc?a.g.sc:{},a.g.sc[e]=t,this.write("goalShown",a)}recordGoalShown(e){var t=this.read("goalShown");return t.g=t.g?t.g:{},t.g.sc=t.g.sc?t.g.sc:{},t.g.sc[e]=(t.g.sc[e]?t.g.sc[e]:0)+1,this.write("goalShown",t),t.g.sc[e]}getGoalShownList(){var e=this.read("goalShown");return e.g=e.g?e.g:{},e.g.sc||{}}recordGoalEngaged(e){var t=this.read("goalEngaged");return t.g=t.g?t.g:{},t.g.e=t.g.e?t.g.e:{},t.g.e[e]=1,this.write("goalEngaged",t),t.g.e[e]}getGoalEngageList(){var e=this.read("goalEngaged");return e.g=e.g?e.g:{},e.g.e||{}}resetGoal(){var e=this.read("goalEngaged");return delete e.g,this.write("goalEngaged",e)}migrateStartSessionTime(e){var t=this.read("userSessionStart");t.a=t.a||{},t.a.s=e,this.write("userSessionStart",t)}startSessionTime(){var e=this.read("userSessionStart");e.a=e.a||{},e.a.s=(new Date).getTime(),this.write("userSessionStart",e),this.resetSessionId()}getSessionStartTime(){var e=this.read("userSessionStart");return e.a=e.a||{},e.a.s||(e.a.s=(new Date).getTime(),this.write("userSessionStart",e)),new Date(e.a.s)}migrateEndSessionTime(e){var t=this.read("userSessionEnd");return t.a=t.a||{},t.a.e=e,this.write("userSessionEnd",t)}endSessionTime(){var e=this.read("userSessionEnd");e.a=e.a||{},e.a.e=(new Date).getTime(),this.write("userSessionEnd",e),this.deleteSessionId()}getLastSessionEndTime(){var e=this.read("userSessionEnd");return e.a=e.a||{},e.a.e?new Date(e.a.e):""}migrateSessionId(e){var t=this.read("sessionId");t.a=t.a||{},t.a.i=e,this.write("sessionId",t)}deleteSessionId(){var e=this.read("sessionId");return e.a=e.a||{},delete e.a.i,this.write("sessionId",e)}resetSessionId(){var t=this.read("sessionId");return t.a=t.a||{},t.a.i=e.guid_string(),this.write("sessionId",t),t.a.i}getSessionId(){var t=this.read("sessionId");return t.a=t.a||{},t.a.i||(t.a.i=e.guid_string(),this.write("sessionId",t)),t.a.i}setInTest(e,t){var a=this.readByCampaignId("inSplitTest",e);a.t=a.t||{},a.t.i=t,this.writeByCampaignId("inSplitTest",e,a)}getInTest(e){var t=this.readByCampaignId("inSplitTest",e);return t.t=t.t||{},t.t.i||null}setChosenCohort(e,t){var a=this.readByCampaignId("splitTestCohort",e);return a.t=a.t||{},a.t.c=t,this.writeByCampaignId("splitTestCohort",e,a)}getChosenCohort(e){var t=this.readByCampaignId("splitTestCohort",e);return t.t=t.t||{},t.t.c||null}setMergeId(e,t){var a=this.read("mergeId")||{};return a.mergeId=a.mergeId||{},a.mergeId[e]=t,this.write("mergeId",a)}getMergeId(e){var t=this.read("mergeId")||{};return t.mergeId=t.mergeId||{},t.mergeId[e]||-1}brandNewDay(e){this.eraseShowCount(e),this.unHideSession(e),this.openSession(e),this.setUnEngaged(e),this.eraseSubscription()}report(t){let a="getNewVisitor,getSessionShowCount,getReferral,getGoalShownList,getGoalEngageList,getSessionStartTime,getLastSessionEndTime,getSessionId,isSubscribed".split(",").map((a=>{let n=this[a]();if(!e.empty(n)||t)return[a,n]})).filter((e=>e));return Object.fromEntries(a)}reportCampaign(t,a){let n="getUTMInclude,getQueryInclude,getSequence,getPagesVisitedCountPerSession,getPagesVisitedCount,getPagesVisitedCountSetted,getPagesVisitedCountPerSessionSetted,getShowCount,getInTest,getChosenCohort,getMergeId,hasConvertSessionEvent,isEngaged,isSessionHidden,isSessionClosed".split(",").map((n=>{let i=this[n](t);if((!e.empty(i)||a)&&-1!==i)return[n,i]})).filter((e=>e));return Object.fromEntries(n)}};return n.expose(g,"storage"),g})),sndefine("site-data",["utils","storage-instance","event-emitter","constants"],(function(e,t,a,n){let i=this;function o(){return t.read("siteData")||{}}return i.document.addEventListener("sleekNote",(function(s){function r(i){let s,r=o();for(let[t,a]of e.entries(i))r[t]!=a&&(r[t]=a,s=!0);return s&&(t.write("siteData",r),a(n.CORE.EVENTS.SITEDATA,r)),s}"storage"==s.data.command&&(Array.isArray(i.sleeknoteSiteData)&&i.sleeknoteSiteData.forEach(r),i.sleeknoteSiteData={push:r})})),{getSession:o}})),sndefine("evaluator",["utils","location","core-sleeknote","site-data","constants","cookie","storage-instance","logger","targeting-evaluator","global"],(function(e,t,a,n,i,o,s,r,l,c){var d=this;const m=r.log(i.CORE.LOGLEVELS.CS,i.CORE.FORMATTERS.SNDEBUG);function u(e,t){return async function(t,a,n,i,o){m({msgs:[`- ${e.name}`],type:"groupCollapsed",styles:["group"]});var s=await y(e,"exclude",n.exclude,i,o);return s?s=await y(e,"include",n.include,i,o):t||"exclude",m({type:"groupEnd"}),m(s?{msgs:[`  ${e.name} passed`],styles:["success"]}:{msgs:[`  ${e.name} didn't pass`],styles:["error"]}),s}}function g(e,n,i){return N(e,t.get(a).matches(n))}function h(e,n,i){return N(e,t.get(a).contains(n))}async function p(e,t,a){let n=await s.fetchGeoInfo(t.addressComponents);let i;if((t=t||{}).sw)o=t.sw,r=t.ne,l={lat:+n.latitude,lng:+n.longitude},c=r.lng<o.lng?l.lng>=o.lng||l.lng<=r.lng:l.lng>=o.lng&&l.lng<=r.lng,i=l.lat>=o.lat&&l.lat<=r.lat&&c;else if(t.type&&"country"==t.type.toLowerCase())i=n.countryCode.toLowerCase()==t.addr.toLowerCase();else{i=[n.regionName.toLowerCase()+","+n.countryCode.toLowerCase(),n.regionCode.toLowerCase()+","+n.countryCode.toLowerCase()].indexOf((t.addr||"").toLowerCase())>-1}var o,r,l,c;return N(e,i)}async function f(t,a,n){let i=s.getIPAddress();if(e.empty(i)){if(i=await c.fetch("https://us-central1-mimir-181311.cloudfunctions.net/get_ip").then((e=>e.text())).then((e=>JSON.parse(e).userIP)).catch((()=>{})),e.empty(i))return!1;await s.setIPAddress(i)}function o(e){var t=e.trim().split("."),a=(t[0]?t[0]*Math.pow(256,3):0)+(t[1]?t[1]*Math.pow(256,2):0)+(t[2]?t[2]*Math.pow(256,1):0)+t[3];if(a<0)throw new Error(e+" is not a legal host ipaddr");return a}var r,l,d,m,u,g=(a=a||{}).split("-");return r=g[0],l=g[1]||r,N(t,(d=r,m=l,(u=o(i))>=o(d)&&u<=o(m)))}async function C(t,a,n,i){let o=await d.arequire("float-match");var s;await e.DOMContentLoaded();var r=a.target,l=!e.contains(a.target.charAt(0),"#",".");a.targetType?("class"==a.targetType&&l&&(r="."+r),"id"==a.targetType&&l&&(r="#"+r)):l&&(r="#"+r);var c=e.qs(r);e.empty(c)?(s=N(t,"notExists"==a.matchType),a.matchType):s=N(t,o(e.parseNodeValue(c),a.matchType,a.value));return s}async function y(e,t,a,n,i){var o=(a||[]).length,s=!1;if(!o)return!0;for(m({msgs:["include"==t?"Show":"Hide"," campaign if value is one of:"],styles:["normal-bold","normal"]});o--;)if(m({msgs:[" - ",JSON.stringify(a[o])],styles:["normal","italic"]}),s=await e(t,a[o],n,i),"include"==t){if(s)return m({msgs:["   Value matched"],styles:["normal-bold"]}),!0;m({msgs:["   Value didn't match"],styles:["normal-bold"]})}else{if(!s)return m({msgs:["   Value matched"],styles:["normal-bold"]}),!1;m({msgs:["   Value didn't match"],styles:["normal-bold"]})}return s}function S(t){var a,n=[];for(Array.isArray(t)||(t=e.JSON.parse(t)),a=t.length;a--;){let e="matchType"in t[a]?t[a]:t[a].value;n.unshift(e)}return n}function E(t){var a={};return"string"==e.typeStr(t)&&(t=e.JSON.parse(t)),t.include&&(a.include=S(t.include)),t.exclude&&(a.exclude=S(t.exclude)),a}function v(t){return"string"==e.typeStr(t)&&(t=e.JSON.parse(t)),t}function N(e,t){return"exclude"==e?!t:t}return{includeNote:async function(t,a=[]){const n=async()=>{let n=t.rules&&t.rules.groups||[];let i=!1,o=!0;if(n.some((t=>!e.empty(t.conditions)))){m({msgs:["Conditions"],styles:["group"],type:"groupCollapsed"});for(let e=0;e<n.length;e++){try{i=await this.evaluateGroup(n[e].conditions,n[e].conditionAnd,t,a)}catch(e){console.error(e)}o=n[e].groupAnd?o&&i:o||i}m({type:"groupEnd"}),m(o?{msgs:["Conditions passed"],styles:["success"]}:{msgs:["Conditions didn't pass"],styles:["error"]})}else m({msgs:["Campaign has ","no conditions"],styles:["normal","normal-bold"]});return o};if(!t.targeting||t.targeting.doNotUse)return await n();m({msgs:["Targeting"],styles:["group"],type:"groupCollapsed"});try{const e=await l.evaluate(t);let a;return m({type:"groupEnd"}),e?(m({msgs:["Targeting passed"],styles:["success"]}),a=await n()):m({msgs:["Targeting didn't passed"],styles:["error"]}),e&&a}catch(e){console.log(e)}},evaluateArraySome:y,evaluateGroup:async function(t,a,n,i){var o,s,r,l,c=0,d=a;if(!t||!t.length)return!0;for(m({msgs:["Group ",a?"AND":"OR"," has ",t.length," conditions:"],styles:["normal","normal-bold","normal","normal-bold","normal"]});c<t.length;c++){o=t[c];var u=this.evaluatorFunctions[o.type].formatValue,g=this.evaluatorFunctions[o.type].evaluate;"object"==e.typeStr(o)&&(l=u?u(o.value):o.value,r=o.matchType,s=!(!i||!~i.indexOf(o.type))||await g(a,r,l,n,o),d=a?d&&s:d||s)}return d},evaluatorFunctions:{1:{evaluate:function(e,t,a,n){function i(e){function t(e){return"/"==e[e.length-1]?e.substring(0,e.length-1):e}function a(e){return"www."==e.substring(0,4)?e.substring(4,e.length):e}const n=d.location,i=function(e){try{const t=e.includes("http")?e:`https://${e}`;return new c.URL(t)}catch(e){console.error(e)}}(e);return["hostname","pathname","search","hash"].every((e=>{let o=n[e],s=i[e];if(("search"==e||"hash"==e)&&!s)return!0;if("hostname"==e&&(o=a(o),s=a(s)),"pathname"==e&&(s=t(s),o=t(o),s.includes("*"))){let[e,a]=s.split("*");e=t(e);const n=!e||t(o.substring(0,e.length)).toUpperCase()==e.toUpperCase(),i=!a||o.substring(o.length-a.length,o.length).toUpperCase()==a.toUpperCase();return n&&i}return s.toUpperCase()==o.toUpperCase()}))}var o=s.getSequence(n.CampaignId);m({msgs:["- Sequence"],type:"groupCollapsed",styles:["group"]}),m({msgs:["Show campaign if sequence",` ${"include"==t?"matches":"doesn't match"} `,a],styles:["normal","normal-bold","italic"]}),o.length<a.length&&(i(a[o.length])?o.push(1):o.length-1>=0&&i(a[o.length-1])||(o.length=0));let r;m({msgs:["Pages visited from sequence: ",o.length],styles:["normal","normal-bold"]}),s.setSequence(n.CampaignId,o),o.length==a.length?(m({msgs:["Sequence matched"],styles:["normal-bold"]}),r=N(t,!0)):(m({msgs:["Sequence didn't match"],styles:["normal-bold"]}),"exclude"==t&&(r=!0));m({type:"groupEnd"}),m(r?{msgs:["  Sequence passed"],styles:["success"]}:{msgs:["  Sequence didn't pass"],styles:["error"]});return r},formatValue:S},2:{evaluate:async function(n,i,o,r){let l=await s.isSubscribed();m({msgs:["- Newsletter Subscriber"],type:"groupCollapsed",styles:["group"]}),m({msgs:["Show campaign if user ",("include"==i?"is":"is not")+" ","subscribed to the newsletter"],styles:["normal","normal-bold","normal"]}),l||(l="true"==e.getQueryVarByName("SNSubscribed")||o.extraParam&&~String(t.get(a)).indexOf(o.extraParam),l&&s.setSubscription());!l&&o.extraParam&&(l=~String(t.get(a)).indexOf(o.extraParam));l=o.value?l&&o.value:l&&o;m(l?{msgs:["User ","is"," subscribed already"],styles:["normal","normal-bold","normal"]}:{msgs:["User ","is not"," subscribed yet"],styles:["normal","normal-bold","normal"]});var c=N(i,l);m({type:"groupEnd"}),m(c?{msgs:["  Newsletter Subscriber passed"],styles:["success"]}:{msgs:["  Newsletter Subscriber didn't pass"],styles:["error"]});return c},formatValue:function(t){"boolean"!=e.typeStr(t)&&(t=e.JSON.parse(t));return t}},3:{evaluate:function(e,t,a,n){m({msgs:["- New Visitor"],type:"groupCollapsed",styles:["group"]}),m({msgs:["Show campaign if user ",("include"==t?"is":"is not")+" ","a new visitor"],styles:["normal","normal-bold","normal"]});const i=s.newVisitor;m(i?{msgs:["User ","is"," a new visitor"],styles:["normal","normal-bold","normal"]}:{msgs:["User ","is not"," a new visitor"],styles:["normal","normal-bold","normal"]});var o=N(t,i);m({type:"groupEnd"}),m(o?{msgs:["  New Visitor passed"],styles:["success"]}:{msgs:["  New Visitor didn't pass"],styles:["error"]});return o}},4:{evaluate:u(g),formatValue:E},5:{evaluate:function(n,i,o,r){m({msgs:["- Specific Query"],type:"groupCollapsed",styles:["group"]});var l=s.getQueryInclude(r.CampaignId);const d=t.get(a).queryParams();if(m({msgs:["Current queries are: ",c.replaceAll?JSON.stringify(d).replaceAll(":","="):JSON.stringify(d)],styles:["normal","normal-bold"]}),e.empty(d)&&l){const e=l>0;return m(e?{msgs:["This condition was already evaluated to pass in this session"],styles:["success"]}:{msgs:["This condition was already evaluated to not pass in this session"],styles:["error"]}),e}{const l=function(n,i,o,r){function l(n,i,o,s){e.empty(o)||m({msgs:["include"==i?"Show":"Hide"," campaign if we have this queries: ",`${o.map((e=>`${e[0].key}=${e[0].value}`)).join(", ")}`],styles:["normal-bold","normal","normal-bold"]});var r=t.get(a).queryParams(),l=0;if(o.length){if(o.forEach((function(e){var t=e[0].key,a=e[0].value;t in r&&r[t]==a&&l++})),l==o.length)return m({msgs:["Queries ","found"],styles:["normal","normal-bold"]}),l="include"==i?1:-1;l=0,m({msgs:["Queries ","not found"],styles:["normal","normal-bold"]})}return l}var c,d,u=s.getQueryInclude(r.CampaignId);if(c=l(0,"exclude",o.exclude||[]))return n||(i="exclude"),s.setQueryInclude(r.CampaignId,c),{result:!1,matchType:i};if(d=l(0,"include",o.include||[]))return s.setQueryInclude(r.CampaignId,d),{result:!0,matchType:i};if(!c&&!d){const e=u?u>0:!(o.include||[]).length;return m(e?{msgs:["This condition was already evaluated to pass in this session, ignoring condition result"],styles:["success"]}:{msgs:["This condition was already evaluated to not pass in this session, ignoring condition result"],styles:["error"]}),{result:e,matchType:i}}}(n,i,o,r);return i=l.matchType,m({type:"groupEnd"}),l.result?m({msgs:["  Specific Query passed"],styles:["success"]}):m({msgs:["  Specific Query didn't pass"],styles:["error"]}),l.result}},formatValue:E},6:{evaluate:function(t,a,n,i){m({msgs:["- Specific Referral"],type:"groupCollapsed",styles:["group"]}),m({msgs:["Show campaign if referral ",""+("include"==a?"is":"is not")," one of ",n],styles:["normal","normal-bold","normal","italic"]});var o=s.getReferral();m({msgs:["Current referral is ",o||"none"],styles:["normal","normal-bold"]});var r=o&&n.some((function(t){return t.split(",").some((function(t){return e.cleanUpReferral(t).toLowerCase()==o.toLowerCase()}))}));m(r?{msgs:["Referral matched"],styles:["normal-bold"]}:{msgs:["Referral didn't match"],styles:["normal-bold"]});var l=N(a,r);m({type:"groupEnd"}),m(l?{msgs:["  Specific Referral passed"],styles:["success"]}:{msgs:["  Specific Referral didn't pass"],styles:["error"]});return l},formatValue:S},7:{evaluate:function(e,n,i,o){function r(e,t,a){var n,i,o,s=e.split(",");for(n=0;n<t.length;n++)for(o=t[n].matchType,i=0;i<s.length;i++)if("exactMatch"==o){if(t[n].value==s[i])return!0}else if("contains"==o&&~s[i].indexOf(t[n].value))return!0}m({msgs:["- UTM Campaign"],type:"groupCollapsed",styles:["group"]});let l="";Object.keys(i).forEach((e=>{l+=`\n - ${e}: `,i[e].forEach(((t,a)=>{l+=`${"exactMatch"==t.matchType?"matches":"contains"} ${t.value}`,a!=i[e].length-1&&(l+=" or ")}))})),m({msgs:[""+("include"==n?"Show":"Hide")," campaign if UTM queries: ",l],styles:["normal-bold","normal","italic"]});var d=t.get(a).queryParams();m({msgs:["Current queries are ",c.replaceAll?JSON.stringify(d).replaceAll(":","="):JSON.stringify(d)],styles:["normal","normal-bold"]});var u=s.getUTMInclude(o.CampaignId);if(u){const e=u>0;return m(e?{msgs:["This condition was already evaluated to pass in this session"],styles:["success"]}:{msgs:["This condition was already evaluated to not pass in this session"],styles:["error"]}),m({type:"groupEnd"}),m(e?{msgs:["  UTM Campaign passed"],styles:["success"]}:{msgs:["  UTM Campaign didn't pass"],styles:["error"]}),e}var g=function(e,t){var a,n,i;for(a in t)if(t.hasOwnProperty(a)){for(i in n=!0,e)if(a.toLowerCase()==i.toLowerCase()&&(n=!1,!r(e[i],t[a])))return!1;if(n)return!1}return!0}(d,i);m(g?{msgs:["UTM queries matched"],styles:["normal-bold"]}:{msgs:["UTM queries didn't match"],styles:["normal-bold"]});var h=N(n,g);s.setUTMInclude(o.CampaignId,h?1:-1),m({type:"groupEnd"}),m(h?{msgs:["  UTM Campaign passed"],styles:["success"]}:{msgs:["  UTM Campaign didn't pass"],styles:["error"]});return h},formatValue:v},8:{evaluate:function(e,t,a,n){if(n.hiddenSleeknote)return!0;m({msgs:["- Show Count"],type:"groupCollapsed",styles:["group"]}),m({msgs:["Hide"," campaign when show count is ",a],styles:["normal-bold","normal","normal-bold"]});var i=s.getShowCount(n.CampaignId);m({msgs:["Current show count is ",i],styles:["normal","normal-bold"]});const o=i>=a;m(o?{msgs:["Show Count matched"],styles:["normal-bold"]}:{msgs:["Show Count didn't match"],styles:["normal-bold"]});var r=N(t,o);m({type:"groupEnd"}),m(r?{msgs:["  Show Count passed"],styles:["success"]}:{msgs:["  Show Count didn't pass"],styles:["error"]});return r}},9:{evaluate:async function(e,t,a,n){let i=await d.arequire("float-match");function s(e,t,a){function n(e,t,a){if(!t.target){var n=(t.value||t).split("=");t={target:n[0],matchType:n.length>1?"exactMatch":"exists",value:n[1]}}var s=o.getItem(t.target,!0);null===s&&m({msgs:["  ",t.target," not found"],styles:["normal","italic","normal-bold"]});const r=i(s,t.matchType,t.value);return null!=s&&m({msgs:["  Cookie ",s," "+(r?"matched":"didn't match")],styles:["normal","italic","normal-bold"]}),N(e,r)}t||(t=[]);var s=t.length;if(!s)return!0;const r=t.map((e=>`${e.target} ${e.matchType}${"exists"!=e.matchType?` ${e.value}`:""}`)).join("include"==e?" and ":" or ");if(m({msgs:[""+("include"==e?"Show":"Hide")," campaign if: ",r],styles:["normal-bold","normal","normal-bold"]}),"include"!=e){for(;s--;)if(!n(e,t[s]))return m({msgs:["Hide cookies matched"],styles:["normal-bold"]}),!1;return m({msgs:["Hide cookies didn't match"],styles:["normal-bold"]}),!0}for(;s--;)if(!n(e,t[s])){m({msgs:["Show cookies didn't match"],styles:["normal-bold"]});break}return-1==s?(m({msgs:["Show cookies matched"],styles:["normal-bold"]}),!0):void 0}m({msgs:["- Specific Cookie"],type:"groupCollapsed",styles:["group"]});var r=s("exclude",a.exclude);r?r=s("include",a.include):e||"exclude";m({type:"groupEnd"}),m(r?{msgs:["  Specific Cookie passed"],styles:["success"]}:{msgs:["  Specific Cookie didn't pass"],styles:["error"]});return r},formatValue:E},10:{evaluate:u(h),formatValue:E},11:{evaluate:u(p),formatValue:E},12:{evaluate:u(C),formatValue:v},13:{evaluate:async function(t,a,i,o){let s=await d.arequire("float-match");function r(t,a,i){let o=e.findPropValue(n.getSession(),a.target);return N(t,s(o,a.matchType,a.value))}function l(e,t,a,n){if(!(a=a||[]).length)return!0;m({msgs:["include"==t?"Show":"Hide"," campaign if SiteData values are:"],styles:["normal-bold","normal"]});var i=a.every((function(a){m({msgs:[" - ",`${a.target} ${a.matchType}${"exists"==a.matchType||"notexists"==a.matchType?"":` ${a.value}`}`],styles:["normal","italic"]});var i=e(t,a,n);return"include"!=t&&(i=!i),m(i?{msgs:["  SiteData value matched"],styles:["normal-bold"]}:{msgs:["  SiteData value didn't match"],styles:["normal-bold"]}),i}));return"include"==t?i:!i}m({msgs:["- SiteData"],type:"groupCollapsed",styles:["group"]});var c=l(r,"exclude",i.exclude,o);c?c=l(r,"include",i.include,o):t||"exclude";m({type:"groupEnd"}),m(c?{msgs:["  SiteData passed"],styles:["success"]}:{msgs:["  SiteData didn't pass"],styles:["error"]});return c},formatValue:v},14:{evaluate:function(e,t,a,n){var o=0;m({msgs:["- Pages Visited"],type:"groupCollapsed",styles:["group"]}),m({msgs:["include"==t?"Show":"Hide"," campaign if user has visited more than ",a.value," pages during ",a.option],styles:["normal-bold","normal","normal-bold","normal","normal-bold"]}),r=a.option,l=n.CampaignId,o=r==i.CONDITIONS.PAGESVISITEDOPTIONS.ONESESSION?s.getPagesVisitedCountPerSession(l)||0:s.getPagesVisitedCount(l)||0,function(e,t){e!=i.CONDITIONS.PAGESVISITEDOPTIONS.ONESESSION||s.getPagesVisitedCountPerSessionSetted(t)?e!=i.CONDITIONS.PAGESVISITEDOPTIONS.ALLSESSIONS||s.getPagesVisitedCountSetted(t)||(o+=1,s.setPagesVisitedCount(t,o),s.setPagesVisitedCountSetted(t,!0)):(o+=1,s.setPagesVisitedCountPerSession(t,o),s.setPagesVisitedCountPerSessionSetted(t,!0))}(a.option,n.CampaignId),m({msgs:["Current number of Pages Visited is: ",o],styles:["normal","normal-bold"]});var r,l;const c=a.value<=o;var d=N(t,c);m(c?{msgs:["Pages Visited matched"],styles:["normal-bold"]}:{msgs:["Pages Visited didn't match"],styles:["normal-bold"]});m({type:"groupEnd"}),m(d?{msgs:["  Pages Visited passed"],styles:["success"]}:{msgs:["  Pages Visited didn't pass"],styles:["error"]});return d},formatValue:v},15:{evaluate:u(f),formatValue:E}},evaluateURL:g,containsURL:h,containsGEOID:p,containsIPAddress:f,evaluateHtmlElementValue:C,match:N}})),sndefine("preprocessor-utils",["browser","constants","core-sleeknote","evaluator","utils","storage-instance","location"],(function(e,t,a,n,i,o,s){var r=this,l=r.document,c=t.PROFILE;let d=t.POS;function m(t,n){var i;if(n?i=(a.editor||a.preview)&&"test"!=a.editor?"mobile"==(a.editor||a.preview).profile?c.MOBILE:c.DESKTOP:e.is.desktop?c.DESKTOP:e.is.tablet?c.TABLET:c.MOBILE:("displayStatus"in a.CustomInitSettings&&(i=a.CustomInitSettings.displayStatus(e,a,t,c)),"displayStatus"in a.CustomInitSettings&&void 0!==i||(i=c.IGNORE,Array.isArray(t.rules.display)?e.is.desktop?~t.rules.display.indexOf(1)&&(i=c.DESKTOP):e.is.tablet?~t.rules.display.indexOf(1)&&(i=c.TABLET):~t.rules.display.indexOf(2)&&(i=c.MOBILE):e.is.desktop?~[1,3].indexOf(t.rules.display)&&(i=c.DESKTOP):e.is.tablet?~[1,2].indexOf(t.rules.display)&&(i=c.TABLET):~[1,2].indexOf(t.rules.display)&&(i=c.MOBILE))),!n){let n=a.isRealMobileSite();i!=c.MOBILE||n||(i="displayStatus"in a.CustomInitSettings&&a.CustomInitSettings.displayStatus(e,a,t,c)==c.MOBILE?c.MOBILE:c.TABLET)}return i}function u(e){return e==c.MOBILE?1:0}function g(e,t,a,n){var i=a[e];return Array.isArray(i)&&(i=i[u(n)]),void 0===i&&(i=t),i}function h(e,t){return+e.Version||2}function p(e,t){return f(e,t)==d.EMBEDDED}function f(e,t){let a=m(e,t),n=+g("BoxAndBarAlignment",d.POPUP,e,a);return n==d.POPUP&&(n=a==c.MOBILE?d.SLIDEUP:d.POPUP2),a!=c.TABLET||i.contains(n,d.HELLO,d.HELLO2,d.EMBEDDED,d.SIDEBAR_RIGHT,d.SIDEBAR_LEFT)||(n=n==d.BOTTOM_LEFT?d.POPUP7:n==d.BOTTOM_RIGHT?d.POPUP9:d.POPUP5),a==c.MOBILE&&(n<=d.BOTTOM_RIGHT||n==d.POPUP2)&&(n=d.SLIDEUP),n}function C(e,t){return g("placement",void 0,e,p(e,t)?c.DESKTOP:m(e,t))}function y(e,t){let a=h(e)>3;return a&&e.steps.forEach((e=>{let t,a,n,o,s=!1;for(let r of i.values(e))"form"==r.type&&(a=r),"teaser"==r.type&&(n=r),"success"==r.type&&(o=r),s?"form"==r.type&&(r.teaser=t.name,t.success=r.name):s=r,t=r,delete r.teasers,delete r.successes;n?(s.teaser=n.name,n.form=s.name):delete s.teaser,o?a.success=o.name:delete a.success})),a?e.steps[u(m(e,t))]:e.steps}var S={};return{teaserExist:function(e){let t=y(e);return!!Object.keys(t).filter((function(e){return"teaser"==t[e].type})).length},parseOnClick:async function(e){let t;try{await i.DOMContentLoaded(),t=JSON.parse(e),t.selector=(t.classes||[]).reduce((function(e,t){try{l.body.querySelector("."+t.value)&&e.push("."+t.value)}catch(a){const n="."+r.CSS.escape(t.value);l.body.querySelector(n)&&e.push(n)}return e}),[]).concat((t.ids||[]).reduce((function(e,t){try{l.body.querySelector("#"+t.value)&&e.push("#"+t.value)}catch(e){}return e}),[])).join(","),(t.selector&&l.body.querySelectorAll(t.selector)||[]).length||(t=!1)}catch(e){t=!1}return t},getProfile:m,getPlacement:C,isAnyConditions:function(e){for(var t=e.rules&&e.rules.groups||[],a=0;a<t.length;a++)if(t[a].conditions&&t[a].conditions.length)return!0;return!1},getVersion:h,isSleekbar:function(e,t){return i.contains(f(e,t),d.HELLO,d.HELLO2)},isEmbedded:p,getPosition:f,getShowTeaser:function(e,t){return g("ShowTeaser",!1,e,m(e,t))},getSteps:y,evaluate:async function(e,t,a){let o;if(t)o=!0;else try{e.CampaignId in S?o=S[e.CampaignId]:(o=await n.includeNote(e,a),S[e.CampaignId]=o)}catch(t){console.log("evaluator error:",e.CampaignId,t),S[e.CampaignId]=o=!1}if(o){if(f(e,t)==d.EMBEDDED){o=!1;let a=C(e,t);if(a){await i.DOMContentLoaded();try{o=!!i.gid(a)}catch(e){}}}}return o},resetEvaluator:function(){S={}},getConfProp:function(e,t,a){return g(e,t,a,m(a,!1))},isCorrectDomain:function(e){if(!0===a.local||void 0===e.Hostname||a.preview)return!0;return s.get(a).domainMatches(e.Hostname)},isSessionHidden:function(e){return!a.preview&&o.isSessionHidden(e.CampaignId)},isSessionClosed:function(e){return!a.preview&&o.isSessionClosed(e.CampaignId)}}})),sndefine("preprocessor",["browser","utils","core-sleeknote","storage-instance","logger","constants","preprocessor-utils","global"],(function(e,t,a,n,i,o,s,r){var l=o.PROFILE,c=o.POS;let{getProfile:d,getPlacement:m,getVersion:u,isSleekbar:g,isEmbedded:h,getPosition:p,getShowTeaser:f,getSteps:C,evaluate:y,resetEvaluator:S,getConfProp:E,isCorrectDomain:v,isSessionHidden:N,isSessionClosed:I,parseOnClick:w,teaserExist:b}=s;var T=this;async function O(e,a,n,s){if(!Array.isArray(e))return[];let c,m={};if(e.length){e.forEach((function(e){(g(e)||h(e))&&(e.rules.triggers=[],e.smarts=void 0),g(e)&&Array.isArray(e.steps)&&e.steps.forEach((e=>{delete e.teaser}))}));let t=d(e[0],a);e.some((function(e,a){return t!=l.MOBILE&&t!=l.IGNORE?e.smarts:void 0}))&&(c=await T.arequire("split-tests"),({splitTests:m,sleekNotes:e}=c.generateFromSmarts(e,a)))}let u=i.log(o.CORE.LOGLEVELS.CS,o.CORE.FORMATTERS.SNDEBUG),p=[];S(),a||u({msgs:["SLEEKNOTE CAMPAIGNS:"],styles:["color: rgb(84, 87, 255); font-weight: bold; font-size: 16px;"],type:"group"});for(let[l,c]of t.entries(e)){u=c.smartIndex&&"1"!=c.smartIndex[0]||a?()=>{}:i.log(o.CORE.LOGLEVELS.CS,o.CORE.FORMATTERS.SNDEBUG);let e=c.campaignName;try{e=r.decodeURI(e),e=r.decodeURI(e)}catch(e){}u({msgs:[`${e} - ${c.CampaignId}`],type:"groupCollapsed",styles:["group"]});try{var f=await k(c,m,l,a,u,n,s)}catch(e){}u({type:"groupEnd"}),u(f?{msgs:["INCLUDED"],styles:["success"]}:{msgs:["REJECTED"],styles:["error"]}),p.push(f)}!c&&p.some((function(e,t){return e&&e.splitTestId}))&&(c=await T.arequire("split-tests"));let C=c?c.filterConfig(p,m,a):p.filter((e=>e));return a||console.groupEnd(),C}async function k(e,s,r,S,O,k,A){function M(t,a){for(var n=e.rules.triggers.length;n--;)if(e.rules.triggers[n].type==t)return e.rules.triggers[n].value;return a}const P=0===M(1,void 0)?-1:M(1,0),R=0===M(2,void 0)?-1:M(2,0),z=M(5,!1);var L={options:e.advOptions||[],profile:d(e,S),campaignId:e.CampaignId,type:e.SleeknoteType,customerId:e.CustomerId,summaryId:e.summaryId,smartIndex:e.smartIndex,version:u(e,S),triggers:e.rules.triggers,campaignName:e.campaignName,integrationName:e.integrationName,placement:m(e,S),splitTestId:e.SplitTestId,wait:I(e)?0:1e3*P,exit:!I(e)&&M(3,!1),scroll:!I(e)&&R,hidden:M(4,!1),onClick:z&&await w(z),siteData:M(7,!1),multimerge:e.multimerge};if(L.siteData)try{L.siteData=JSON.parse(L.siteData)}catch(e){L.siteData=!1}let D;if(L.version<4&&(L.successAction=E("SuccessAction",void 0,e),L.successLandingPage=E("SuccessLandingPage",void 0,e)),S)L=t.extend(L,{hidden:!a.editor&&!a.preview}),D=!0,(O=i.log(o.CORE.LOGLEVELS.CS,o.CORE.FORMATTERS.SNDEBUG))({msgs:["SLEEKNOTE MESSAGE:"," manual trigger triggered on rejected campaign, ignoring rules and showing the campaign anyway."],styles:["message","normal-bold"]});else if(791==L.customerId&&"demoCampaignIds"in a.CustomInitSettings&&a.CustomInitSettings.demoCampaignIds.some((e=>e==L.campaignId)))O({msgs:["Demo campaign always shows"],styles:[""]}),D=!0;else{if(a.DomainLimits||(a.DomainLimits={}),!v(e))return O({msgs:["Campaign domain doesn't match current domain"],styles:["error"]}),void(L.profile=l.IGNORE);if(L.profile<3)return void O({msgs:["Profile(Mobile/Desktop) doesn't match current one"],styles:["error"]});const i=a.DomainLimits[e.Hostname]||a.DomainLimits["All non-selected domains"],s=t.getAdvOption({options:e.advOptions},"impressionOverride",1),r=n.getSessionShowCount(),c=k&&A.includes(e.CampaignId);if(!c&&(void 0!==i&&r>=i)){if(!s)return O({msgs:[`The limit of ${i} impressions for this domain has been reached with ${r} campaigns shown in this session, more info: https://help.sleeknote.com/advanced-use/impression-limit`],styles:["error"]}),void(L.profile=l.IGNORE);O({msgs:["Ignoring impression limit, more info: https://help.sleeknote.com/advanced-use/impression-limit"],styles:["normal"]})}let d=L.multimerge;if(d&&"DateMultiMerge"==d.type){let e,t=new Date,i=[t.getFullYear(),t.getMonth(),t.getDate()];e=void 0!==a.mergeId?d.rows[a.mergeId]:d.rows.find((e=>e[d.id].join()==i.join())),e&&(L.multimergeCurrent=Array.from(e),n.setMergeId(L.campaignId,i));let o=n.getMergeId(L.campaignId,i);Array.isArray(o)&&o.join()!=i.join()&&n.brandNewDay(L.campaignId)}const m=M(5);let u=!c&&N(e);if(u&&!m||(D=await y(e,!1,c&&k)),!D)return u&&!m&&O({msgs:["Campaign is hidden for this session because it has been already seen and closed"],styles:["error"]}),void(L.profile=l.IGNORE);if(!t.empty(e.advOptions)){const t=e.advOptions.find((e=>"note-priority"==e.id));t&&t.values.length&&O({msgs:["Campaign order is ",t.values[0].value],styles:["normal","normal-bold"]})}if(t.empty(e.rules.triggers)||g(e)||h(e)){if(!(g(e)||h(e)||b(e)))return O({msgs:["Campaign doesn't have triggers or teaser so it can't show"],styles:["error"]}),void(L.profile=l.IGNORE);O({msgs:["Campaign has ","no triggers"],styles:["normal","normal-bold"]})}else if(e.smarts&&e.smartIndex&&1==e.smartIndex.substring(0,1))O({msgs:["Campaign trigger is ","automated",", a split-test has been created"],styles:["normal","normal-bold","normal"]});else{O({msgs:["Campaign triggers are:"],styles:["normal"]}),e.rules.triggers.forEach((({type:e})=>{let a=M(e);try{a=JSON.parse(M(e))}catch(e){}switch(e){case 1:O({msgs:[`- ${o.TRIGGERS.TYPES[e]} `,a," seconds"],styles:["normal","normal-bold","normal"]});break;case 2:O({msgs:[`- ${o.TRIGGERS.TYPES[e]} `,a,"%"],styles:["normal","normal-bold","normal"]});break;case 3:case 4:O({msgs:[`- ${o.TRIGGERS.TYPES[e]}`],styles:["normal"]});break;case 5:O({msgs:[`- ${o.TRIGGERS.TYPES[e]}:`],styles:["normal"]});const n=a.classes.map((e=>e.value)).join(", "),i=a.ids.map((e=>e.value)).join(", ");t.empty(n)||O({msgs:["    Classes: ",n],styles:["normal","normal-bold"]}),t.empty(i)||O({msgs:["    Ids: ",i],styles:["normal","normal-bold"]});break;case 7:O({msgs:[`- ${o.TRIGGERS.TYPES[e]}:`],styles:["normal"]}),a.forEach((e=>O({msgs:["    ",`${e.property} ${e.type} ${e.value}`],styles:["normal","normal-bold"]})))}}));const a=L.wait||L.exit||L.scroll||L.hidden||L.onClick||L.siteData;if(!(a||g(e)||b(e)||c))return O({msgs:["Campaign doesnt have teaser and was already triggered this session so it won't show"],styles:["error"]}),void(L.profile=l.IGNORE);a||O({msgs:["Campaign"," has already been triggered this session",", we won't automaticly trigger it again"],styles:["normal","normal-bold","normal"]})}O({msgs:[["ZERO?","UNKN","IGNORE","DESKTOP","TABLET","MOBILE"][L.profile]," version was chosen"],styles:["normal-bold","normal"]})}var x=p(e);if((L.hidden||g(e)||h(e))&&(L.wait=0,L.exit=!1,L.scroll=0),L.version<=3){e.steps={form:{type:"form",teaser:"teaser"}};var B=f(e);B||!1===B||(B=!0),L.profile==l.MOBILE&&L.version<3&&(B=!1),x==c.POPUP&&L.version<3&&(B=!1),(g(e)||1==L.version&&x==c.POPUP2)&&(B=!1),B&&(e.steps.teaser={type:"teaser",form:"form"}),"SuccessStep"==L.successAction?(e.steps.success={type:"success"},e.steps.form.success="success"):"redirect"==L.successAction&&L.successLandingPage?e.steps.form.redirect=L.successLandingPage:delete e.steps.success,delete L.successAction,delete L.successLandingPage}a.tabletUsesMobile=!1,L.position=x;var U=L.profile==l.MOBILE,G=C(e);return L.steps={},L.profile==l.MOBILE&&b(e)&&(L.wait=0),Object.keys(G).forEach((function(a){var n,i=t.extend({},G[a],{name:a,mobile:U,campaignId:L.campaignId,customerId:L.customerId,version:L.version,position:x,placement:L.placement,profile:L.profile,hostname:e.Hostname,noteType:L.type,campaignName:e.name,integrationName:e.integrationName});t.empty(i.redirect)||"string"!=t.typeStr(i.redirect)||(i.redirect=(~(n=i.redirect).indexOf("http://")||~n.indexOf("https://")?"":"//")+n),L.version>3?i.id="#sleeknote-"+a.replace(/[^a-zA-Z0-9\-\_\:\.\[\]]/g,""):i.id="teaser"==i.type?"#sleeknoteMinified":"form"==i.type?"#sleeknoteBox":"#sleeknoteSuccess",L.profile,l.TABLET,L.profile==l.DESKTOP&&(i.relativeWidth=0),t.contains(i.type,"teaser")&&(L.profile,l.TABLET,L.profile==l.DESKTOP&&(i.relativeWidth=0)),L.steps[a]=i})),Object.keys(L.steps).forEach((function(t){var a=L.steps[t];a.timeZoneOffset=e.timeZoneOffset||0,a.timeZone=e.timeZone,a.locale=e.locale||(T.navigator.userLanguage||T.navigator.language).split("-")[0]})),L.splitTestId&&(s[L.splitTestId]||(s[L.splitTestId]=[]),s[L.splitTestId].push(r)),L}return T.dev.generateConfig=O,O})),sndefine("launcher",["core-sleeknote","constants","event-emitter","browser","utils","storage-instance","location","site-data","preprocessor","preprocessor-utils","global","logger"],(function(e,t,a,n,i,o,s,r,l,c,d,m){var u=this,g=u.document;const h=m.log(t.CORE.LOGLEVELS.CS,t.CORE.FORMATTERS.SNDEBUG),p=t.CORE.CREATOR.API,f=t.CORE.COMMANDS;let C,y,S,E=[],v=[],N=Object.create(null),I=Object.create(null),w=[],b=-1,T=String(s.get(e));function O(t){let a="beforeCampaignCreate";return e.hooks[a]&&e.hooks[a](t),!(t.multimerge&&!t.multimergeCurrent)||(h({msgs:[`No mergedata for campaign '${t.campaignId}' was found`],styles:["error"]}),!1)}async function k(e,a){let n=Object.keys(N);c.resetEvaluator(),o.resetMemData();let s=[],r=[];E.forEach((function(e){let t=e.CampaignId;~n.indexOf(t)&&s.push(e),r.push(e)})),v.length=0,w.length=0,b=-1;let l=await L(r,!1,!1,e==t.CORE.EVENTS.SITEDATA&&[2,8,14],s.map((e=>P(e)))),d=l.length;if(s.length&&d)for(;d--;){let e=z(P(l[d]),s);if(~e){if(a){let t=P(s[e]);a(await N[t])}l.splice(d,1),s.splice(e,1)}}for(let e of i.values(s)){let t=P(e),a=await N[t];await M(t,!0),a.destroy(!0,!1,!0)}x(l)}async function A(){let t=s.reset(e);t.matches(T,e.CustomInitSettings.reloadOnHashChange)||(k(),T=String(t))}async function M(e,t){if(!N[e])return;let a=(await N[e]).config.position,n=z(e,v);if(~n){v.splice(n,1);let e=w.indexOf(a);~e&&w.splice(e,1),b==a&&(b=-1)}t||(n=z(e,E),~n&&E.splice(n,1)),delete N[e],delete I[e]}function P(e){return e.CampaignId||e.campaignId}function R(e){let a,n=E.length;for(;n--;)if(a=E[n],P(a)==e&&c.getProfile(a)>t.PROFILE.IGNORE)return a.hiddenSleeknote=!0,a.SplitTestId="",l([a],!0).then((function(e){let t=e.shift();if(v.push(t),O(t))return _(t)}))}function z(e,t){for(let[a,n]of i.entries(t))if(P(n)==e)return a;return-1}async function L(e,t,a=!0,n,o){let s=[],r=[];if(!e)return r;if(Array.isArray(e)||(e=[e]),e.forEach((e=>{-1==z(P(e),E)&&E.push(e),s.push(e),!y&&i.getAdvOption({options:e.advOptions},"onepagesite",1)&&(y=u.setInterval(A,1e3))})),s.length){(await l(s,t,n,o)).forEach((e=>{z(e.campaignId,v)>-1||(v.push(e),r.push(e))})),r.length&&(r=D(r))}return a&&x(r),S=r,r}function D(a){return e.editor||(a.sort((function(e,t){var a=+i.getAdvOption({options:e.options},"note-priority",1)||0;return(+i.getAdvOption({options:t.options},"note-priority",1)||0)-a})),(a=a.filter((function(e){if(O(e)){if(!e.hidden){var a=e.position;if(a==t.POS.EMBEDDED&&(a=e.placement),~w.indexOf(a)){if(e.onClick)return h({msgs:["Position of campaign ",e.campaignId," is taken, as it has an onClick trigger, we will remove the teaser"],styles:["normal","normal-bold","normal"]}),e.steps&&delete e.steps.teaser,e;if(!(e.exit&&w.indexOf(b)<0))return void h({msgs:["Position of campaign ",e.campaignId," is taken so it won't show"],styles:["normal","normal-bold","normal"]});a=b,e.steps&&delete e.steps.teaser,h({msgs:["Position of campaign ",e.campaignId," is taken, as it has an exit trigger, we will remove the teaser"],styles:["normal","normal-bold","normal"]})}else e.exit&&e.steps&&!e.steps.teaser&&(a=b);w.push(a)}return e}}))).sort((function(e,t){function a(a){return e[a]&&t[a]?e[a]-t[a]:t[a]?1:e[a]?-1:void 0}var n;return void 0!==(n=a("scroll"))||void 0!==(n=a("wait"))||void 0!==(n=a("exit"))?n:0}))),a}function x(e){for(var t=e.length;t--;)_(e[t])}var B,U,G,V;async function _(n){let o,s,r=i.extend(n),l=P(r);return l in N?(o=await N[l],["wait","onClick"].forEach((function(e){o.config[e]=r[e]}))):N[l]=new d.Promise((async function(n,i){if(await u.arequire("package-notes"),s=r.position==t.POS.EMBEDDED,s?({EmbeddedCampaign:B,layout:V}=await u.arequire("package-embedded")):({AnchoredCampaign:U,orchestrator:G,layout:V}=await u.arequire("package-anchored")),V.viewport||V.initialize(),o=s?await B.create({config:r}):await U.create({config:r}),o&&!e.editor&&!s){if(r.exit&&H(),r.scroll&&j(),o.teaserExist&&!o.config.hidden&&o.canBeLaunched()&&o.config.wait>=0){let e=o.first("teaser");a(f.QUEUE,{creator:p,name:e,origin:o.notes[e],trigger:"none"})}o.launchTriggers(((e,t)=>{if(("timer"==e||"notification"==e)&&t.canBeLaunched()){let e=t.first("form");a(f.QUEUE,{creator:p,name:e,origin:t.notes[e],trigger:"timer"})}}))}return o?(a(t.CORE.EVENTS.READY,o),I[l]=o,n(o)):i(r)})),N[l]}function H(){n.is.desktop&&(i.listener(g.documentElement,"add",(function(e){if(!e.relatedTarget&&e.clientY<10)for(let e of Object.values(N))e.then((function(e){if(e.ifTrigger("exit")&&e.canBeLaunched()){let t=e.first("form");a(f.OPEN,{creator:p,name:t,origin:e.notes[t],trigger:"exit"})}}))}),!0)("mouseout"),H=()=>{})}function j(){var e,t=function(){C=0;for(let e of Object.values(N))e.then((function(e){if(e.ifTrigger("scroll")&&e.canBeLaunched()){let t=e.first("form");a(f.OPEN,{creator:p,name:t,origin:e.notes[t],trigger:"scroll"})}}))};i.listener(u,"add",(function(a){var n=+new Date;C&&n-C<1e3||(u.clearTimeout(e),e=u.setTimeout(t,2e3),C=n)}),!0)("scroll"),j=()=>{}}function F(e=!0){return{result:e,handled:!0}}g.addEventListener("sleekNote",(function(e){e.data.type==t.CORE.EVENTS.SITEDATA&&k(e.data.type,(function(e){e.triggerOnSiteDataIf()}))}));let q={destructivelyChangeCampaign:function(e,t){let a=z(e,v),n=I[e];if(a<0||!n)return;let i=v[a];return n.destroy(!0),delete N[e],delete I[e],i=t(i,n),n.destroy(!0),_(i)},status:function(){let e={campaigns:{},visible:{}};for(let[t,a]of i.entries(I)){let n=i.extend(a.config);delete n.steps,n.notes=Object.keys(a.notes).map((e=>a.notes[e].config)),e.campaigns[t]=n,"EmbeddedCampaign"==a.kind&&a.visibleNote.noteName&&(e.visible[t]={campaignId:t,name:a.visibleNote.noteName,kind:"EmbeddedCampaign"})}if(G)for(let[t,a]of i.entries(G.visibles))e.visible[t]={campaignId:t,name:a.noteName};return e},API:function({command:e,noteName:a,keep:n,config:i,campaign:o,onlyShowPreloaded:s,campaignId:r}){const l=t.CORE.API;switch(e){case l.ADD:return F(L(i));case l.BUSY:for(let e of Object.values(I))if(e.busy)return F(!0);return F(!1);case l.VISIBLE:return o?o.API({command:e}):F({})}return{handled:!1}},forceLoad:R,add:L,remove:M,createCampaign:_,prioritize:D,preprocessor:l,get rawConfigs(){return E},get includedConfig(){return v},get campaigns(){return N},get campaignsResolved(){return I},get justAdded(){return S},loadForLaunch:async function(e,t){if(t&&o.isSessionClosed(e))return void console.warn("can not show toggler onlyShowPreloaded:"+t+" id:",e);let a=N[e];if(!a&&!t&&(a=R(e),!a))return void console.warn("campaign ",e," failed to load");let n=await a;if(n)return n.config.smartIndex=0,n.tameTeaser(),n;console.warn("campaign ",e," failed to load")},onEvaluate:k};return e.expose(q,"launcher"),q})),sndefine("core-api",["launcher","core-sleeknote","utils","constants","global","storage-instance"],(function(e,t,a,n,i,o){var s=this;const r=n.CORE.API;let l=new s.Set,c={};function d(e,t){return e}function m(t,n){let i=[],o=r.CLOSE,s=e.status().visible;for(let r of a.values(s)){let a=e.campaignsResolved[r.campaignId];if(t&&a&&(a=t.config.campaignId==r.campaignId),a){let e=a.API({command:o,ffwd:n,noteName:r.name});e.handled&&i.push(e.result)}}return a.allSettled(i).then((function(){return t?[t]:Object.values(s)}))}function u(...g){let h,p,f,C,y,S,E,v,N,I,w,b=g[0],T=g[1],O=e.campaignsResolved[T];switch(b){case r.POSITION:f=g[2],//!!!
N=g[3],S=g[4];break;case r.BLINK:h=g[2],S=g[3];break;case r.CLOSEALL:v=g[1];for(let e of l)e.ffwd();return i.Promise.all(Object.keys(e.status().visible).map((e=>u("close",e,v))));case r.STATUS:return d(e.status());case r.CAMPAIGNS:return d(e.campaigns);case r.RESET:y=g[1];break;case r.REMOVE:C=g[2],E=g[3];break;case r.CLOSE:v=g[2];break;case r.OPEN:case r.REVEAL:case r.MAXIMIZE:case r.MINIMIZE:case r.QUEUE:case r.NOTE_CONFIG:h=g[2];break;case r.AFTERRENDER:S=g[2];break;case r.NOTE_RERENDER:S=g[3],h=g[2];break;case r.APPLY_CONFIG:h=g[2],p=g[3];break;case r.ADD:p=g[1];break;case r.MERGE:p=g[1],I=g[2];break;case r.HOOK:w=g[1],S=g[2]}return function({command:l,campaignId:g,noteName:h,config:p,position:f,complete:C,keep:y,callback:S,abrupt:E,ffwd:v,placement:N,mergeId:I,hookName:w}){let b={handled:!1},T=e.campaignsResolved[g];switch(l){case r.WAIT:return new i.Promise((t=>{let a=()=>{e.API({command:r.BUSY}).result?s.setTimeout(a,100):t()};a()}));case r.BUSY:b=e.API({command:l});break;case r.VISIBLE:b=e.API({command:l,campaign:T});break;case r.ADD:b=e.API({command:l,config:p});break;case r.REMOVE:T&&(e.remove(g),b=T.API({command:l,abrupt:E,complete:C}));break;case r.CLOSE:b={result:m(T,v),handled:!0};break;case r.AFTERRENDER:T&&(b=T.API({command:l,callback:S}));break;case r.POSITION:if(T){let t=f==n.POS.EMBEDDED;if(t&&!N)break;if(T.config.position==f){b={result:i.Promise.resolve(),handled:!0};break}let a=e.destructivelyChangeCampaign(g,(function(e){e.position=f;for(let a of Object.keys(e.steps))e.steps[a].position=f,t&&(e.steps[a].placement=N);return t&&(e.placement=N),S&&(e=S(e)),e}));b={result:a,handled:!0}}break;case r.MAXIMIZE:case r.MINIMIZE:case r.OPEN:case r.REVEAL:case r.QUEUE:if(T){if(a.contains(l,r.OPEN,r.REVEAL)&&t.editor)for(let t of Object.values(e.status().visible))t.campaignId!=g&&("EmbeddedCampaign"!=t.kind&&"EmbeddedCampaign"!=T.kind||u("close",t.campaignId));b=T.API({command:l,noteName:h})}break;case r.NOTE_RERENDER:T&&(b=T.API({command:l,noteName:h,callback:S}));break;case r.NOTE_CONFIG:T&&(b=T.API({command:l,noteName:h}));break;case r.APPLY_CONFIG:T&&(b=T.API({command:l,noteName:h,config:p}));break;case r.MERGE:let c=p.multimerge;if(p.multimergeCurrent=[],c&&"DateMultiMerge"==c.type){let e;e=Array.isArray(I)?c.rows.find((e=>e[c.id].join()==I.join())):c.rows[I],e&&(p.multimergeCurrent=Array.from(e),o.setMergeId(p.campaignId,I))}b={handled:!0,result:p.multimergeCurrent};break;case r.HOOK:t.hooks[w]=S,b.handled=!0;break;default:console.warn("Unknown API command:",l)}if(b.handled)return d(b.result);if(a.contains(l,r.MAXIMIZE,r.MINIMIZE,r.OPEN,r.REVEAL,r.QUEUE,r.CLOSE))return l!=r.CLOSE&&(t.editor&&(c={}),c[g]={campaignId:g,noteName:h,command:l}),i.Promise.resolve()}({campaign:O,command:b,campaignId:T,noteName:h,config:p,position:f,complete:C,keep:y,callback:S,abrupt:E,ffwd:v,placement:N,mergeId:I,hookName:w})}return s.document.addEventListener("sleekNote",(function(e){if("sleekNote"==e.type){let{type:t,animator:a,status:i,campaignId:o}=e.data;if(t==n.CORE.EVENTS.ANIMATING)l[i?"add":"delete"](a);else if(t==n.CORE.EVENTS.READY&&o in c){let{command:t,noteName:a}=c[o];delete c[o],a in e.data.boxes&&u(t,o,a)}}})),u})),sndefine("package-core-boot",["launcher","core-sleeknote","event-emitter","core-api","constants","storage-instance","browser"],(function(e,t,a,n,i,o,s){return{launcher:e,SleekNote:t,emit:a,API:n,CONST:i,storage:o,B:s}}));